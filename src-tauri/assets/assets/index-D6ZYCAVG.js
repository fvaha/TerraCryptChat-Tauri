(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))f(g);new MutationObserver(g=>{for(const w of g)if(w.type==="childList")for(const C of w.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&f(C)}).observe(document,{childList:!0,subtree:!0});function u(g){const w={};return g.integrity&&(w.integrity=g.integrity),g.referrerPolicy&&(w.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?w.credentials="include":g.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function f(g){if(g.ep)return;g.ep=!0;const w=u(g);fetch(g.href,w)}})();var Ps={exports:{}},_r={},Ns={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au;function cf(){if(Au)return le;Au=1;var c=Symbol.for("react.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),B=Symbol.iterator;function F(m){return m===null||typeof m!="object"?null:(m=B&&m[B]||m["@@iterator"],typeof m=="function"?m:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function S(m,_,se){this.props=m,this.context=_,this.refs=K,this.updater=se||te}S.prototype.isReactComponent={},S.prototype.setState=function(m,_){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,_,"setState")},S.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function V(){}V.prototype=S.prototype;function oe(m,_,se){this.props=m,this.context=_,this.refs=K,this.updater=se||te}var T=oe.prototype=new V;T.constructor=oe,Z(T,S.prototype),T.isPureReactComponent=!0;var k=Array.isArray,O=Object.prototype.hasOwnProperty,L={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function me(m,_,se){var ue,pe={},he=null,ve=null;if(_!=null)for(ue in _.ref!==void 0&&(ve=_.ref),_.key!==void 0&&(he=""+_.key),_)O.call(_,ue)&&!ce.hasOwnProperty(ue)&&(pe[ue]=_[ue]);var ye=arguments.length-2;if(ye===1)pe.children=se;else if(1<ye){for(var je=Array(ye),Ze=0;Ze<ye;Ze++)je[Ze]=arguments[Ze+2];pe.children=je}if(m&&m.defaultProps)for(ue in ye=m.defaultProps,ye)pe[ue]===void 0&&(pe[ue]=ye[ue]);return{$$typeof:c,type:m,key:he,ref:ve,props:pe,_owner:L.current}}function Ce(m,_){return{$$typeof:c,type:m.type,key:_,ref:m.ref,props:m.props,_owner:m._owner}}function We(m){return typeof m=="object"&&m!==null&&m.$$typeof===c}function dt(m){var _={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(se){return _[se]})}var de=/\/+/g;function ae(m,_){return typeof m=="object"&&m!==null&&m.key!=null?dt(""+m.key):_.toString(36)}function I(m,_,se,ue,pe){var he=typeof m;(he==="undefined"||he==="boolean")&&(m=null);var ve=!1;if(m===null)ve=!0;else switch(he){case"string":case"number":ve=!0;break;case"object":switch(m.$$typeof){case c:case s:ve=!0}}if(ve)return ve=m,pe=pe(ve),m=ue===""?"."+ae(ve,0):ue,k(pe)?(se="",m!=null&&(se=m.replace(de,"$&/")+"/"),I(pe,_,se,"",function(Ze){return Ze})):pe!=null&&(We(pe)&&(pe=Ce(pe,se+(!pe.key||ve&&ve.key===pe.key?"":(""+pe.key).replace(de,"$&/")+"/")+m)),_.push(pe)),1;if(ve=0,ue=ue===""?".":ue+":",k(m))for(var ye=0;ye<m.length;ye++){he=m[ye];var je=ue+ae(he,ye);ve+=I(he,_,se,je,pe)}else if(je=F(m),typeof je=="function")for(m=je.call(m),ye=0;!(he=m.next()).done;)he=he.value,je=ue+ae(he,ye++),ve+=I(he,_,se,je,pe);else if(he==="object")throw _=String(m),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return ve}function ee(m,_,se){if(m==null)return m;var ue=[],pe=0;return I(m,ue,"","",function(he){return _.call(se,he,pe++)}),ue}function ie(m){if(m._status===-1){var _=m._result;_=_(),_.then(function(se){(m._status===0||m._status===-1)&&(m._status=1,m._result=se)},function(se){(m._status===0||m._status===-1)&&(m._status=2,m._result=se)}),m._status===-1&&(m._status=0,m._result=_)}if(m._status===1)return m._result.default;throw m._result}var ne={current:null},M={transition:null},Q={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:M,ReactCurrentOwner:L};function W(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:ee,forEach:function(m,_,se){ee(m,function(){_.apply(this,arguments)},se)},count:function(m){var _=0;return ee(m,function(){_++}),_},toArray:function(m){return ee(m,function(_){return _})||[]},only:function(m){if(!We(m))throw Error("React.Children.only expected to receive a single React element child.");return m}},le.Component=S,le.Fragment=u,le.Profiler=g,le.PureComponent=oe,le.StrictMode=f,le.Suspense=D,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,le.act=W,le.cloneElement=function(m,_,se){if(m==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+m+".");var ue=Z({},m.props),pe=m.key,he=m.ref,ve=m._owner;if(_!=null){if(_.ref!==void 0&&(he=_.ref,ve=L.current),_.key!==void 0&&(pe=""+_.key),m.type&&m.type.defaultProps)var ye=m.type.defaultProps;for(je in _)O.call(_,je)&&!ce.hasOwnProperty(je)&&(ue[je]=_[je]===void 0&&ye!==void 0?ye[je]:_[je])}var je=arguments.length-2;if(je===1)ue.children=se;else if(1<je){ye=Array(je);for(var Ze=0;Ze<je;Ze++)ye[Ze]=arguments[Ze+2];ue.children=ye}return{$$typeof:c,type:m.type,key:pe,ref:he,props:ue,_owner:ve}},le.createContext=function(m){return m={$$typeof:C,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},m.Provider={$$typeof:w,_context:m},m.Consumer=m},le.createElement=me,le.createFactory=function(m){var _=me.bind(null,m);return _.type=m,_},le.createRef=function(){return{current:null}},le.forwardRef=function(m){return{$$typeof:b,render:m}},le.isValidElement=We,le.lazy=function(m){return{$$typeof:Y,_payload:{_status:-1,_result:m},_init:ie}},le.memo=function(m,_){return{$$typeof:q,type:m,compare:_===void 0?null:_}},le.startTransition=function(m){var _=M.transition;M.transition={};try{m()}finally{M.transition=_}},le.unstable_act=W,le.useCallback=function(m,_){return ne.current.useCallback(m,_)},le.useContext=function(m){return ne.current.useContext(m)},le.useDebugValue=function(){},le.useDeferredValue=function(m){return ne.current.useDeferredValue(m)},le.useEffect=function(m,_){return ne.current.useEffect(m,_)},le.useId=function(){return ne.current.useId()},le.useImperativeHandle=function(m,_,se){return ne.current.useImperativeHandle(m,_,se)},le.useInsertionEffect=function(m,_){return ne.current.useInsertionEffect(m,_)},le.useLayoutEffect=function(m,_){return ne.current.useLayoutEffect(m,_)},le.useMemo=function(m,_){return ne.current.useMemo(m,_)},le.useReducer=function(m,_,se){return ne.current.useReducer(m,_,se)},le.useRef=function(m){return ne.current.useRef(m)},le.useState=function(m){return ne.current.useState(m)},le.useSyncExternalStore=function(m,_,se){return ne.current.useSyncExternalStore(m,_,se)},le.useTransition=function(){return ne.current.useTransition()},le.version="18.3.1",le}var Wu;function $s(){return Wu||(Wu=1,Ns.exports=cf()),Ns.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu;function df(){if(Uu)return _r;Uu=1;var c=$s(),s=Symbol.for("react.element"),u=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,g=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function C(b,D,q){var Y,B={},F=null,te=null;q!==void 0&&(F=""+q),D.key!==void 0&&(F=""+D.key),D.ref!==void 0&&(te=D.ref);for(Y in D)f.call(D,Y)&&!w.hasOwnProperty(Y)&&(B[Y]=D[Y]);if(b&&b.defaultProps)for(Y in D=b.defaultProps,D)B[Y]===void 0&&(B[Y]=D[Y]);return{$$typeof:s,type:b,key:F,ref:te,props:B,_owner:g.current}}return _r.Fragment=u,_r.jsx=C,_r.jsxs=C,_r}var Bu;function ff(){return Bu||(Bu=1,Ps.exports=df()),Ps.exports}var l=ff(),P=$s(),Oo={},Ds={exports:{}},Xe={},Fs={exports:{}},Os={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u;function pf(){return $u||($u=1,function(c){function s(M,Q){var W=M.length;M.push(Q);e:for(;0<W;){var m=W-1>>>1,_=M[m];if(0<g(_,Q))M[m]=Q,M[W]=_,W=m;else break e}}function u(M){return M.length===0?null:M[0]}function f(M){if(M.length===0)return null;var Q=M[0],W=M.pop();if(W!==Q){M[0]=W;e:for(var m=0,_=M.length,se=_>>>1;m<se;){var ue=2*(m+1)-1,pe=M[ue],he=ue+1,ve=M[he];if(0>g(pe,W))he<_&&0>g(ve,pe)?(M[m]=ve,M[he]=W,m=he):(M[m]=pe,M[ue]=W,m=ue);else if(he<_&&0>g(ve,W))M[m]=ve,M[he]=W,m=he;else break e}}return Q}function g(M,Q){var W=M.sortIndex-Q.sortIndex;return W!==0?W:M.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var w=performance;c.unstable_now=function(){return w.now()}}else{var C=Date,b=C.now();c.unstable_now=function(){return C.now()-b}}var D=[],q=[],Y=1,B=null,F=3,te=!1,Z=!1,K=!1,S=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var Q=u(q);Q!==null;){if(Q.callback===null)f(q);else if(Q.startTime<=M)f(q),Q.sortIndex=Q.expirationTime,s(D,Q);else break;Q=u(q)}}function k(M){if(K=!1,T(M),!Z)if(u(D)!==null)Z=!0,ie(O);else{var Q=u(q);Q!==null&&ne(k,Q.startTime-M)}}function O(M,Q){Z=!1,K&&(K=!1,V(me),me=-1),te=!0;var W=F;try{for(T(Q),B=u(D);B!==null&&(!(B.expirationTime>Q)||M&&!dt());){var m=B.callback;if(typeof m=="function"){B.callback=null,F=B.priorityLevel;var _=m(B.expirationTime<=Q);Q=c.unstable_now(),typeof _=="function"?B.callback=_:B===u(D)&&f(D),T(Q)}else f(D);B=u(D)}if(B!==null)var se=!0;else{var ue=u(q);ue!==null&&ne(k,ue.startTime-Q),se=!1}return se}finally{B=null,F=W,te=!1}}var L=!1,ce=null,me=-1,Ce=5,We=-1;function dt(){return!(c.unstable_now()-We<Ce)}function de(){if(ce!==null){var M=c.unstable_now();We=M;var Q=!0;try{Q=ce(!0,M)}finally{Q?ae():(L=!1,ce=null)}}else L=!1}var ae;if(typeof oe=="function")ae=function(){oe(de)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=de,ae=function(){ee.postMessage(null)}}else ae=function(){S(de,0)};function ie(M){ce=M,L||(L=!0,ae())}function ne(M,Q){me=S(function(){M(c.unstable_now())},Q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_continueExecution=function(){Z||te||(Z=!0,ie(O))},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return F},c.unstable_getFirstCallbackNode=function(){return u(D)},c.unstable_next=function(M){switch(F){case 1:case 2:case 3:var Q=3;break;default:Q=F}var W=F;F=Q;try{return M()}finally{F=W}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=F;F=M;try{return Q()}finally{F=W}},c.unstable_scheduleCallback=function(M,Q,W){var m=c.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?m+W:m):W=m,M){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=W+_,M={id:Y++,callback:Q,priorityLevel:M,startTime:W,expirationTime:_,sortIndex:-1},W>m?(M.sortIndex=W,s(q,M),u(D)===null&&M===u(q)&&(K?(V(me),me=-1):K=!0,ne(k,W-m))):(M.sortIndex=_,s(D,M),Z||te||(Z=!0,ie(O))),M},c.unstable_shouldYield=dt,c.unstable_wrapCallback=function(M){var Q=F;return function(){var W=F;F=Q;try{return M.apply(this,arguments)}finally{F=W}}}}(Os)),Os}var Hu;function hf(){return Hu||(Hu=1,Fs.exports=pf()),Fs.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function gf(){if(qu)return Xe;qu=1;var c=$s(),s=hf();function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,g={};function w(e,t){C(e,t),C(e+"Capture",t)}function C(e,t){for(g[e]=t,e=0;e<t.length;e++)f.add(t[e])}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D=Object.prototype.hasOwnProperty,q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y={},B={};function F(e){return D.call(B,e)?!0:D.call(Y,e)?!1:q.test(e)?B[e]=!0:(Y[e]=!0,!1)}function te(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z(e,t,n,r){if(t===null||typeof t>"u"||te(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function K(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new K(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new K(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new K(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new K(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new K(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new K(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new K(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new K(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new K(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function oe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,oe);S[t]=new K(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,oe);S[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,oe);S[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new K(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new K(e,1,!1,e.toLowerCase(),null,!0,!0)});function T(e,t,n,r){var o=S.hasOwnProperty(t)?S[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z(t,n,o,r)&&(n=null),r||o===null?F(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var k=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),L=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),We=Symbol.for("react.provider"),dt=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),M=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,m;function _(e){if(m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);m=t&&t[1]||""}return`
`+m+e}var se=!1;function ue(e,t){if(!e||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var r=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){r=v}e.call(t.prototype)}else{try{throw Error()}catch(v){r=v}e()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,d=i.length-1;1<=a&&0<=d&&o[a]!==i[d];)d--;for(;1<=a&&0<=d;a--,d--)if(o[a]!==i[d]){if(a!==1||d!==1)do if(a--,d--,0>d||o[a]!==i[d]){var p=`
`+o[a].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=a&&0<=d);break}}}finally{se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_(e):""}function pe(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case L:return"Portal";case Ce:return"Profiler";case me:return"StrictMode";case ae:return"Suspense";case I:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dt:return(e.displayName||"Context")+".Consumer";case We:return(e._context.displayName||"Context")+".Provider";case de:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ze(e){var t=je(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rr(e){e._valueTracker||(e._valueTracker=Ze(e))}function qs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=je(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uo(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vs(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ye(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qs(e,t){t=t.checked,t!=null&&T(e,"checked",t,!1)}function Bo(e,t){Qs(e,t);var n=ye(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$o(e,t.type,n):t.hasOwnProperty("defaultValue")&&$o(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ks(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $o(e,t,n){(t!=="number"||zr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wn=Array.isArray;function hn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(u(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ys(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(u(92));if(Wn(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Gs(e,t){var n=ye(t.value),r=ye(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Js(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xs(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tr,Zs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pc=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(e){pc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]})});function el(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bn.hasOwnProperty(e)&&Bn[e]?(""+t).trim():t+"px"}function tl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=el(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var hc=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(hc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(u(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(u(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(t.style!=null&&typeof t.style!="object")throw Error(u(62))}}function Qo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function Yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Go=null,gn=null,mn=null;function nl(e){if(e=cr(e)){if(typeof Go!="function")throw Error(u(280));var t=e.stateNode;t&&(t=Xr(t),Go(e.stateNode,e.type,t))}}function rl(e){gn?mn?mn.push(e):mn=[e]:gn=e}function ol(){if(gn){var e=gn,t=mn;if(mn=gn=null,nl(e),t)for(e=0;e<t.length;e++)nl(t[e])}}function il(e,t){return e(t)}function sl(){}var Jo=!1;function ll(e,t,n){if(Jo)return e(t,n);Jo=!0;try{return il(e,t,n)}finally{Jo=!1,(gn!==null||mn!==null)&&(sl(),ol())}}function $n(e,t){var n=e.stateNode;if(n===null)return null;var r=Xr(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var Xo=!1;if(b)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Xo=!1}function gc(e,t,n,r,o,i,a,d,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(n,v)}catch(E){this.onError(E)}}var qn=!1,br=null,Ir=!1,Zo=null,mc={onError:function(e){qn=!0,br=e}};function yc(e,t,n,r,o,i,a,d,p){qn=!1,br=null,gc.apply(mc,arguments)}function xc(e,t,n,r,o,i,a,d,p){if(yc.apply(this,arguments),qn){if(qn){var v=br;qn=!1,br=null}else throw Error(u(198));Ir||(Ir=!0,Zo=v)}}function Xt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function al(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ul(e){if(Xt(e)!==e)throw Error(u(188))}function vc(e){var t=e.alternate;if(!t){if(t=Xt(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ul(o),e;if(i===r)return ul(o),t;i=i.sibling}throw Error(u(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,d=o.child;d;){if(d===n){a=!0,n=o,r=i;break}if(d===r){a=!0,r=o,n=i;break}d=d.sibling}if(!a){for(d=i.child;d;){if(d===n){a=!0,n=i,r=o;break}if(d===r){a=!0,r=i,n=o;break}d=d.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function cl(e){return e=vc(e),e!==null?dl(e):null}function dl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dl(e);if(t!==null)return t;e=e.sibling}return null}var fl=s.unstable_scheduleCallback,pl=s.unstable_cancelCallback,wc=s.unstable_shouldYield,Sc=s.unstable_requestPaint,be=s.unstable_now,kc=s.unstable_getCurrentPriorityLevel,ei=s.unstable_ImmediatePriority,hl=s.unstable_UserBlockingPriority,Mr=s.unstable_NormalPriority,Cc=s.unstable_LowPriority,gl=s.unstable_IdlePriority,Lr=null,vt=null;function jc(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Lr,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Rc,_c=Math.log,Ec=Math.LN2;function Rc(e){return e>>>=0,e===0?32:31-(_c(e)/Ec|0)|0}var Pr=64,Nr=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var d=a&~o;d!==0?r=Vn(d):(i&=a,i!==0&&(r=Vn(i)))}else a=n&~o,a!==0?r=Vn(a):i!==0&&(r=Vn(i));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ft(t),o=1<<n,r|=e[n],t&=~o;return r}function zc(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ft(i),d=1<<a,p=o[a];p===-1?((d&n)===0||(d&r)!==0)&&(o[a]=zc(d,t)):p<=t&&(e.expiredLanes|=d),i&=~d}}function ti(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ml(){var e=Pr;return Pr<<=1,(Pr&4194240)===0&&(Pr=64),e}function ni(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function bc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ft(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function ri(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var xe=0;function yl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xl,oi,vl,wl,Sl,ii=!1,Fr=[],Mt=null,Lt=null,Pt=null,Kn=new Map,Yn=new Map,Nt=[],Ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kl(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function Gn(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=cr(t),t!==null&&oi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Mc(e,t,n,r,o){switch(t){case"focusin":return Mt=Gn(Mt,e,t,n,r,o),!0;case"dragenter":return Lt=Gn(Lt,e,t,n,r,o),!0;case"mouseover":return Pt=Gn(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Kn.set(i,Gn(Kn.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Yn.set(i,Gn(Yn.get(i)||null,e,t,n,r,o)),!0}return!1}function Cl(e){var t=Zt(e.target);if(t!==null){var n=Xt(t);if(n!==null){if(t=n.tag,t===13){if(t=al(n),t!==null){e.blockedOn=t,Sl(e.priority,function(){vl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Or(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=li(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ko=r,n.target.dispatchEvent(r),Ko=null}else return t=cr(n),t!==null&&oi(t),e.blockedOn=n,!1;t.shift()}return!0}function jl(e,t,n){Or(e)&&n.delete(t)}function Lc(){ii=!1,Mt!==null&&Or(Mt)&&(Mt=null),Lt!==null&&Or(Lt)&&(Lt=null),Pt!==null&&Or(Pt)&&(Pt=null),Kn.forEach(jl),Yn.forEach(jl)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,ii||(ii=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lc)))}function Xn(e){function t(o){return Jn(o,e)}if(0<Fr.length){Jn(Fr[0],e);for(var n=1;n<Fr.length;n++){var r=Fr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&Jn(Mt,e),Lt!==null&&Jn(Lt,e),Pt!==null&&Jn(Pt,e),Kn.forEach(t),Yn.forEach(t),n=0;n<Nt.length;n++)r=Nt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)Cl(n),n.blockedOn===null&&Nt.shift()}var yn=k.ReactCurrentBatchConfig,Ar=!0;function Pc(e,t,n,r){var o=xe,i=yn.transition;yn.transition=null;try{xe=1,si(e,t,n,r)}finally{xe=o,yn.transition=i}}function Nc(e,t,n,r){var o=xe,i=yn.transition;yn.transition=null;try{xe=4,si(e,t,n,r)}finally{xe=o,yn.transition=i}}function si(e,t,n,r){if(Ar){var o=li(e,t,n,r);if(o===null)ji(e,t,r,Wr,n),kl(e,r);else if(Mc(o,e,t,n,r))r.stopPropagation();else if(kl(e,r),t&4&&-1<Ic.indexOf(e)){for(;o!==null;){var i=cr(o);if(i!==null&&xl(i),i=li(e,t,n,r),i===null&&ji(e,t,r,Wr,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ji(e,t,r,null,n)}}var Wr=null;function li(e,t,n,r){if(Wr=null,e=Yo(r),e=Zt(e),e!==null)if(t=Xt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=al(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wr=e,null}function _l(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kc()){case ei:return 1;case hl:return 4;case Mr:case Cc:return 16;case gl:return 536870912;default:return 16}default:return 16}}var Dt=null,ai=null,Ur=null;function El(){if(Ur)return Ur;var e,t=ai,n=t.length,r,o="value"in Dt?Dt.value:Dt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return Ur=o.slice(e,1<r?1-r:void 0)}function Br(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $r(){return!0}function Rl(){return!1}function et(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$r:Rl,this.isPropagationStopped=Rl,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),t}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=et(xn),Zn=W({},xn,{view:0,detail:0}),Dc=et(Zn),ci,di,er,Hr=W({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(ci=e.screenX-er.screenX,di=e.screenY-er.screenY):di=ci=0,er=e),ci)},movementY:function(e){return"movementY"in e?e.movementY:di}}),zl=et(Hr),Fc=W({},Hr,{dataTransfer:0}),Oc=et(Fc),Ac=W({},Zn,{relatedTarget:0}),fi=et(Ac),Wc=W({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=et(Wc),Bc=W({},xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$c=et(Bc),Hc=W({},xn,{data:0}),Tl=et(Hc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qc[e])?!!t[e]:!1}function pi(){return Kc}var Yc=W({},Zn,{key:function(e){if(e.key){var t=qc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gc=et(Yc),Jc=W({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=et(Jc),Xc=W({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),Zc=et(Xc),ed=W({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),td=et(ed),nd=W({},Hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rd=et(nd),od=[9,13,27,32],hi=b&&"CompositionEvent"in window,tr=null;b&&"documentMode"in document&&(tr=document.documentMode);var id=b&&"TextEvent"in window&&!tr,Il=b&&(!hi||tr&&8<tr&&11>=tr),Ml=" ",Ll=!1;function Pl(e,t){switch(e){case"keyup":return od.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function sd(e,t){switch(e){case"compositionend":return Nl(t);case"keypress":return t.which!==32?null:(Ll=!0,Ml);case"textInput":return e=t.data,e===Ml&&Ll?null:e;default:return null}}function ld(e,t){if(vn)return e==="compositionend"||!hi&&Pl(e,t)?(e=El(),Ur=ai=Dt=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Il&&t.locale!=="ko"?null:t.data;default:return null}}var ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ad[e.type]:t==="textarea"}function Fl(e,t,n,r){rl(r),t=Yr(t,"onChange"),0<t.length&&(n=new ui("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function ud(e){ta(e,0)}function qr(e){var t=jn(e);if(qs(t))return e}function cd(e,t){if(e==="change")return t}var Ol=!1;if(b){var gi;if(b){var mi="oninput"in document;if(!mi){var Al=document.createElement("div");Al.setAttribute("oninput","return;"),mi=typeof Al.oninput=="function"}gi=mi}else gi=!1;Ol=gi&&(!document.documentMode||9<document.documentMode)}function Wl(){nr&&(nr.detachEvent("onpropertychange",Ul),rr=nr=null)}function Ul(e){if(e.propertyName==="value"&&qr(rr)){var t=[];Fl(t,rr,e,Yo(e)),ll(ud,t)}}function dd(e,t,n){e==="focusin"?(Wl(),nr=t,rr=n,nr.attachEvent("onpropertychange",Ul)):e==="focusout"&&Wl()}function fd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qr(rr)}function pd(e,t){if(e==="click")return qr(t)}function hd(e,t){if(e==="input"||e==="change")return qr(t)}function gd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:gd;function or(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!D.call(t,o)||!pt(e[o],t[o]))return!1}return!0}function Bl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $l(e,t){var n=Bl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bl(n)}}function Hl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ql(){for(var e=window,t=zr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zr(e.document)}return t}function yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function md(e){var t=ql(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hl(n.ownerDocument.documentElement,n)){if(r!==null&&yi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=$l(n,i);var a=$l(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yd=b&&"documentMode"in document&&11>=document.documentMode,wn=null,xi=null,ir=null,vi=!1;function Vl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vi||wn==null||wn!==zr(r)||(r=wn,"selectionStart"in r&&yi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&or(ir,r)||(ir=r,r=Yr(xi,"onSelect"),0<r.length&&(t=new ui("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wn)))}function Vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sn={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},wi={},Ql={};b&&(Ql=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function Qr(e){if(wi[e])return wi[e];if(!Sn[e])return e;var t=Sn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ql)return wi[e]=t[n];return e}var Kl=Qr("animationend"),Yl=Qr("animationiteration"),Gl=Qr("animationstart"),Jl=Qr("transitionend"),Xl=new Map,Zl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ft(e,t){Xl.set(e,t),w(t,[e])}for(var Si=0;Si<Zl.length;Si++){var ki=Zl[Si],xd=ki.toLowerCase(),vd=ki[0].toUpperCase()+ki.slice(1);Ft(xd,"on"+vd)}Ft(Kl,"onAnimationEnd"),Ft(Yl,"onAnimationIteration"),Ft(Gl,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Jl,"onTransitionEnd"),C("onMouseEnter",["mouseout","mouseover"]),C("onMouseLeave",["mouseout","mouseover"]),C("onPointerEnter",["pointerout","pointerover"]),C("onPointerLeave",["pointerout","pointerover"]),w("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),w("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),w("onBeforeInput",["compositionend","keypress","textInput","paste"]),w("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wd=new Set("cancel close invalid load scroll toggle".split(" ").concat(sr));function ea(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xc(r,t,void 0,e),e.currentTarget=null}function ta(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var d=r[a],p=d.instance,v=d.currentTarget;if(d=d.listener,p!==i&&o.isPropagationStopped())break e;ea(o,d,v),i=p}else for(a=0;a<r.length;a++){if(d=r[a],p=d.instance,v=d.currentTarget,d=d.listener,p!==i&&o.isPropagationStopped())break e;ea(o,d,v),i=p}}}if(Ir)throw e=Zo,Ir=!1,Zo=null,e}function Se(e,t){var n=t[bi];n===void 0&&(n=t[bi]=new Set);var r=e+"__bubble";n.has(r)||(na(t,e,2,!1),n.add(r))}function Ci(e,t,n){var r=0;t&&(r|=4),na(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function lr(e){if(!e[Kr]){e[Kr]=!0,f.forEach(function(n){n!=="selectionchange"&&(wd.has(n)||Ci(n,!1,e),Ci(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,Ci("selectionchange",!1,t))}}function na(e,t,n,r){switch(_l(t)){case 1:var o=Pc;break;case 4:o=Nc;break;default:o=si}n=o.bind(null,t,n,e),o=void 0,!Xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ji(e,t,n,r,o){var i=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var d=r.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var p=a.tag;if((p===3||p===4)&&(p=a.stateNode.containerInfo,p===o||p.nodeType===8&&p.parentNode===o))return;a=a.return}for(;d!==null;){if(a=Zt(d),a===null)return;if(p=a.tag,p===5||p===6){r=i=a;continue e}d=d.parentNode}}r=r.return}ll(function(){var v=i,E=Yo(n),R=[];e:{var j=Xl.get(e);if(j!==void 0){var N=ui,U=e;switch(e){case"keypress":if(Br(n)===0)break e;case"keydown":case"keyup":N=Gc;break;case"focusin":U="focus",N=fi;break;case"focusout":U="blur",N=fi;break;case"beforeblur":case"afterblur":N=fi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Zc;break;case Kl:case Yl:case Gl:N=Uc;break;case Jl:N=td;break;case"scroll":N=Dc;break;case"wheel":N=rd;break;case"copy":case"cut":case"paste":N=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=bl}var $=(t&4)!==0,Ie=!$&&e==="scroll",y=$?j!==null?j+"Capture":null:j;$=[];for(var h=v,x;h!==null;){x=h;var z=x.stateNode;if(x.tag===5&&z!==null&&(x=z,y!==null&&(z=$n(h,y),z!=null&&$.push(ar(h,z,x)))),Ie)break;h=h.return}0<$.length&&(j=new N(j,U,null,n,E),R.push({event:j,listeners:$}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",j&&n!==Ko&&(U=n.relatedTarget||n.fromElement)&&(Zt(U)||U[jt]))break e;if((N||j)&&(j=E.window===E?E:(j=E.ownerDocument)?j.defaultView||j.parentWindow:window,N?(U=n.relatedTarget||n.toElement,N=v,U=U?Zt(U):null,U!==null&&(Ie=Xt(U),U!==Ie||U.tag!==5&&U.tag!==6)&&(U=null)):(N=null,U=v),N!==U)){if($=zl,z="onMouseLeave",y="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&($=bl,z="onPointerLeave",y="onPointerEnter",h="pointer"),Ie=N==null?j:jn(N),x=U==null?j:jn(U),j=new $(z,h+"leave",N,n,E),j.target=Ie,j.relatedTarget=x,z=null,Zt(E)===v&&($=new $(y,h+"enter",U,n,E),$.target=x,$.relatedTarget=Ie,z=$),Ie=z,N&&U)t:{for($=N,y=U,h=0,x=$;x;x=kn(x))h++;for(x=0,z=y;z;z=kn(z))x++;for(;0<h-x;)$=kn($),h--;for(;0<x-h;)y=kn(y),x--;for(;h--;){if($===y||y!==null&&$===y.alternate)break t;$=kn($),y=kn(y)}$=null}else $=null;N!==null&&ra(R,j,N,$,!1),U!==null&&Ie!==null&&ra(R,Ie,U,$,!0)}}e:{if(j=v?jn(v):window,N=j.nodeName&&j.nodeName.toLowerCase(),N==="select"||N==="input"&&j.type==="file")var H=cd;else if(Dl(j))if(Ol)H=hd;else{H=fd;var G=dd}else(N=j.nodeName)&&N.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(H=pd);if(H&&(H=H(e,v))){Fl(R,H,n,E);break e}G&&G(e,j,v),e==="focusout"&&(G=j._wrapperState)&&G.controlled&&j.type==="number"&&$o(j,"number",j.value)}switch(G=v?jn(v):window,e){case"focusin":(Dl(G)||G.contentEditable==="true")&&(wn=G,xi=v,ir=null);break;case"focusout":ir=xi=wn=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,Vl(R,n,E);break;case"selectionchange":if(yd)break;case"keydown":case"keyup":Vl(R,n,E)}var J;if(hi)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else vn?Pl(e,n)&&(X="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(X="onCompositionStart");X&&(Il&&n.locale!=="ko"&&(vn||X!=="onCompositionStart"?X==="onCompositionEnd"&&vn&&(J=El()):(Dt=E,ai="value"in Dt?Dt.value:Dt.textContent,vn=!0)),G=Yr(v,X),0<G.length&&(X=new Tl(X,e,null,n,E),R.push({event:X,listeners:G}),J?X.data=J:(J=Nl(n),J!==null&&(X.data=J)))),(J=id?sd(e,n):ld(e,n))&&(v=Yr(v,"onBeforeInput"),0<v.length&&(E=new Tl("onBeforeInput","beforeinput",null,n,E),R.push({event:E,listeners:v}),E.data=J))}ta(R,t)})}function ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=$n(e,n),i!=null&&r.unshift(ar(e,i,o)),i=$n(e,t),i!=null&&r.push(ar(e,i,o))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ra(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var d=n,p=d.alternate,v=d.stateNode;if(p!==null&&p===r)break;d.tag===5&&v!==null&&(d=v,o?(p=$n(n,i),p!=null&&a.unshift(ar(n,p,d))):o||(p=$n(n,i),p!=null&&a.push(ar(n,p,d)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Sd=/\r\n?/g,kd=/\u0000|\uFFFD/g;function oa(e){return(typeof e=="string"?e:""+e).replace(Sd,`
`).replace(kd,"")}function Gr(e,t,n){if(t=oa(t),oa(e)!==t&&n)throw Error(u(425))}function Jr(){}var _i=null,Ei=null;function Ri(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zi=typeof setTimeout=="function"?setTimeout:void 0,Cd=typeof clearTimeout=="function"?clearTimeout:void 0,ia=typeof Promise=="function"?Promise:void 0,jd=typeof queueMicrotask=="function"?queueMicrotask:typeof ia<"u"?function(e){return ia.resolve(null).then(e).catch(_d)}:zi;function _d(e){setTimeout(function(){throw e})}function Ti(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Xn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Xn(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Cn,ur="__reactProps$"+Cn,jt="__reactContainer$"+Cn,bi="__reactEvents$"+Cn,Ed="__reactListeners$"+Cn,Rd="__reactHandles$"+Cn;function Zt(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sa(e);e!==null;){if(n=e[wt])return n;e=sa(e)}return t}e=n,n=e.parentNode}return null}function cr(e){return e=e[wt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(u(33))}function Xr(e){return e[ur]||null}var Ii=[],_n=-1;function At(e){return{current:e}}function ke(e){0>_n||(e.current=Ii[_n],Ii[_n]=null,_n--)}function we(e,t){_n++,Ii[_n]=e.current,e.current=t}var Wt={},Ue=At(Wt),Qe=At(!1),en=Wt;function En(e,t){var n=e.type.contextTypes;if(!n)return Wt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(e){return e=e.childContextTypes,e!=null}function Zr(){ke(Qe),ke(Ue)}function la(e,t,n){if(Ue.current!==Wt)throw Error(u(168));we(Ue,t),we(Qe,n)}function aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(u(108,ve(e)||"Unknown",o));return W({},n,r)}function eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wt,en=Ue.current,we(Ue,e),we(Qe,Qe.current),!0}function ua(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=aa(e,t,en),r.__reactInternalMemoizedMergedChildContext=e,ke(Qe),ke(Ue),we(Ue,e)):ke(Qe),we(Qe,n)}var _t=null,to=!1,Mi=!1;function ca(e){_t===null?_t=[e]:_t.push(e)}function zd(e){to=!0,ca(e)}function Ut(){if(!Mi&&_t!==null){Mi=!0;var e=0,t=xe;try{var n=_t;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_t=null,to=!1}catch(o){throw _t!==null&&(_t=_t.slice(e+1)),fl(ei,Ut),o}finally{xe=t,Mi=!1}}return null}var Rn=[],zn=0,no=null,ro=0,it=[],st=0,tn=null,Et=1,Rt="";function nn(e,t){Rn[zn++]=ro,Rn[zn++]=no,no=e,ro=t}function da(e,t,n){it[st++]=Et,it[st++]=Rt,it[st++]=tn,tn=e;var r=Et;e=Rt;var o=32-ft(r)-1;r&=~(1<<o),n+=1;var i=32-ft(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Et=1<<32-ft(t)+o|n<<o|r,Rt=i+e}else Et=1<<i|n<<o|r,Rt=e}function Li(e){e.return!==null&&(nn(e,1),da(e,1,0))}function Pi(e){for(;e===no;)no=Rn[--zn],Rn[zn]=null,ro=Rn[--zn],Rn[zn]=null;for(;e===tn;)tn=it[--st],it[st]=null,Rt=it[--st],it[st]=null,Et=it[--st],it[st]=null}var tt=null,nt=null,_e=!1,ht=null;function fa(e,t){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,nt=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tn!==null?{id:Et,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,nt=null,!0):!1;default:return!1}}function Ni(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Di(e){if(_e){var t=nt;if(t){var n=t;if(!pa(e,t)){if(Ni(e))throw Error(u(418));t=Ot(n.nextSibling);var r=tt;t&&pa(e,t)?fa(r,n):(e.flags=e.flags&-4097|2,_e=!1,tt=e)}}else{if(Ni(e))throw Error(u(418));e.flags=e.flags&-4097|2,_e=!1,tt=e}}}function ha(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function oo(e){if(e!==tt)return!1;if(!_e)return ha(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ri(e.type,e.memoizedProps)),t&&(t=nt)){if(Ni(e))throw ga(),Error(u(418));for(;t;)fa(e,t),t=Ot(t.nextSibling)}if(ha(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=Ot(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=tt?Ot(e.stateNode.nextSibling):null;return!0}function ga(){for(var e=nt;e;)e=Ot(e.nextSibling)}function Tn(){nt=tt=null,_e=!1}function Fi(e){ht===null?ht=[e]:ht.push(e)}var Td=k.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var d=o.refs;a===null?delete d[i]:d[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ma(e){var t=e._init;return t(e._payload)}function ya(e){function t(y,h){if(e){var x=y.deletions;x===null?(y.deletions=[h],y.flags|=16):x.push(h)}}function n(y,h){if(!e)return null;for(;h!==null;)t(y,h),h=h.sibling;return null}function r(y,h){for(y=new Map;h!==null;)h.key!==null?y.set(h.key,h):y.set(h.index,h),h=h.sibling;return y}function o(y,h){return y=Yt(y,h),y.index=0,y.sibling=null,y}function i(y,h,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<h?(y.flags|=2,h):x):(y.flags|=2,h)):(y.flags|=1048576,h)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function d(y,h,x,z){return h===null||h.tag!==6?(h=zs(x,y.mode,z),h.return=y,h):(h=o(h,x),h.return=y,h)}function p(y,h,x,z){var H=x.type;return H===ce?E(y,h,x.props.children,z,x.key):h!==null&&(h.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ie&&ma(H)===h.type)?(z=o(h,x.props),z.ref=dr(y,h,x),z.return=y,z):(z=bo(x.type,x.key,x.props,null,y.mode,z),z.ref=dr(y,h,x),z.return=y,z)}function v(y,h,x,z){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=Ts(x,y.mode,z),h.return=y,h):(h=o(h,x.children||[]),h.return=y,h)}function E(y,h,x,z,H){return h===null||h.tag!==7?(h=dn(x,y.mode,z,H),h.return=y,h):(h=o(h,x),h.return=y,h)}function R(y,h,x){if(typeof h=="string"&&h!==""||typeof h=="number")return h=zs(""+h,y.mode,x),h.return=y,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case O:return x=bo(h.type,h.key,h.props,null,y.mode,x),x.ref=dr(y,null,h),x.return=y,x;case L:return h=Ts(h,y.mode,x),h.return=y,h;case ie:var z=h._init;return R(y,z(h._payload),x)}if(Wn(h)||Q(h))return h=dn(h,y.mode,x,null),h.return=y,h;io(y,h)}return null}function j(y,h,x,z){var H=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return H!==null?null:d(y,h,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case O:return x.key===H?p(y,h,x,z):null;case L:return x.key===H?v(y,h,x,z):null;case ie:return H=x._init,j(y,h,H(x._payload),z)}if(Wn(x)||Q(x))return H!==null?null:E(y,h,x,z,null);io(y,x)}return null}function N(y,h,x,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return y=y.get(x)||null,d(h,y,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return y=y.get(z.key===null?x:z.key)||null,p(h,y,z,H);case L:return y=y.get(z.key===null?x:z.key)||null,v(h,y,z,H);case ie:var G=z._init;return N(y,h,x,G(z._payload),H)}if(Wn(z)||Q(z))return y=y.get(x)||null,E(h,y,z,H,null);io(h,z)}return null}function U(y,h,x,z){for(var H=null,G=null,J=h,X=h=0,Fe=null;J!==null&&X<x.length;X++){J.index>X?(Fe=J,J=null):Fe=J.sibling;var ge=j(y,J,x[X],z);if(ge===null){J===null&&(J=Fe);break}e&&J&&ge.alternate===null&&t(y,J),h=i(ge,h,X),G===null?H=ge:G.sibling=ge,G=ge,J=Fe}if(X===x.length)return n(y,J),_e&&nn(y,X),H;if(J===null){for(;X<x.length;X++)J=R(y,x[X],z),J!==null&&(h=i(J,h,X),G===null?H=J:G.sibling=J,G=J);return _e&&nn(y,X),H}for(J=r(y,J);X<x.length;X++)Fe=N(J,y,X,x[X],z),Fe!==null&&(e&&Fe.alternate!==null&&J.delete(Fe.key===null?X:Fe.key),h=i(Fe,h,X),G===null?H=Fe:G.sibling=Fe,G=Fe);return e&&J.forEach(function(Gt){return t(y,Gt)}),_e&&nn(y,X),H}function $(y,h,x,z){var H=Q(x);if(typeof H!="function")throw Error(u(150));if(x=H.call(x),x==null)throw Error(u(151));for(var G=H=null,J=h,X=h=0,Fe=null,ge=x.next();J!==null&&!ge.done;X++,ge=x.next()){J.index>X?(Fe=J,J=null):Fe=J.sibling;var Gt=j(y,J,ge.value,z);if(Gt===null){J===null&&(J=Fe);break}e&&J&&Gt.alternate===null&&t(y,J),h=i(Gt,h,X),G===null?H=Gt:G.sibling=Gt,G=Gt,J=Fe}if(ge.done)return n(y,J),_e&&nn(y,X),H;if(J===null){for(;!ge.done;X++,ge=x.next())ge=R(y,ge.value,z),ge!==null&&(h=i(ge,h,X),G===null?H=ge:G.sibling=ge,G=ge);return _e&&nn(y,X),H}for(J=r(y,J);!ge.done;X++,ge=x.next())ge=N(J,y,X,ge.value,z),ge!==null&&(e&&ge.alternate!==null&&J.delete(ge.key===null?X:ge.key),h=i(ge,h,X),G===null?H=ge:G.sibling=ge,G=ge);return e&&J.forEach(function(uf){return t(y,uf)}),_e&&nn(y,X),H}function Ie(y,h,x,z){if(typeof x=="object"&&x!==null&&x.type===ce&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case O:e:{for(var H=x.key,G=h;G!==null;){if(G.key===H){if(H=x.type,H===ce){if(G.tag===7){n(y,G.sibling),h=o(G,x.props.children),h.return=y,y=h;break e}}else if(G.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ie&&ma(H)===G.type){n(y,G.sibling),h=o(G,x.props),h.ref=dr(y,G,x),h.return=y,y=h;break e}n(y,G);break}else t(y,G);G=G.sibling}x.type===ce?(h=dn(x.props.children,y.mode,z,x.key),h.return=y,y=h):(z=bo(x.type,x.key,x.props,null,y.mode,z),z.ref=dr(y,h,x),z.return=y,y=z)}return a(y);case L:e:{for(G=x.key;h!==null;){if(h.key===G)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){n(y,h.sibling),h=o(h,x.children||[]),h.return=y,y=h;break e}else{n(y,h);break}else t(y,h);h=h.sibling}h=Ts(x,y.mode,z),h.return=y,y=h}return a(y);case ie:return G=x._init,Ie(y,h,G(x._payload),z)}if(Wn(x))return U(y,h,x,z);if(Q(x))return $(y,h,x,z);io(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,h!==null&&h.tag===6?(n(y,h.sibling),h=o(h,x),h.return=y,y=h):(n(y,h),h=zs(x,y.mode,z),h.return=y,y=h),a(y)):n(y,h)}return Ie}var bn=ya(!0),xa=ya(!1),so=At(null),lo=null,In=null,Oi=null;function Ai(){Oi=In=lo=null}function Wi(e){var t=so.current;ke(so),e._currentValue=t}function Ui(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mn(e,t){lo=e,Oi=In=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ye=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(Oi!==e)if(e={context:e,memoizedValue:t,next:null},In===null){if(lo===null)throw Error(u(308));In=e,lo.dependencies={lanes:0,firstContext:e}}else In=In.next=e;return t}var rn=null;function Bi(e){rn===null?rn=[e]:rn.push(e)}function va(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Bi(t)):(n.next=o.next,o.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(fe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,zt(e,n)}return o=r.interleaved,o===null?(t.next=t,Bi(r)):(t.next=o.next,o.next=t),r.interleaved=t,zt(e,n)}function ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ri(e,n)}}function Sa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var o=e.updateQueue;Bt=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var p=d,v=p.next;p.next=null,a===null?i=v:a.next=v,a=p;var E=e.alternate;E!==null&&(E=E.updateQueue,d=E.lastBaseUpdate,d!==a&&(d===null?E.firstBaseUpdate=v:d.next=v,E.lastBaseUpdate=p))}if(i!==null){var R=o.baseState;a=0,E=v=p=null,d=i;do{var j=d.lane,N=d.eventTime;if((r&j)===j){E!==null&&(E=E.next={eventTime:N,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var U=e,$=d;switch(j=t,N=n,$.tag){case 1:if(U=$.payload,typeof U=="function"){R=U.call(N,R,j);break e}R=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=$.payload,j=typeof U=="function"?U.call(N,R,j):U,j==null)break e;R=W({},R,j);break e;case 2:Bt=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,j=o.effects,j===null?o.effects=[d]:j.push(d))}else N={eventTime:N,lane:j,tag:d.tag,payload:d.payload,callback:d.callback,next:null},E===null?(v=E=N,p=R):E=E.next=N,a|=j;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;j=d,d=j.next,j.next=null,o.lastBaseUpdate=j,o.shared.pending=null}}while(!0);if(E===null&&(p=R),o.baseState=p,o.firstBaseUpdate=v,o.lastBaseUpdate=E,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ln|=a,e.lanes=a,e.memoizedState=R}}function ka(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(u(191,o));o.call(r)}}}var fr={},St=At(fr),pr=At(fr),hr=At(fr);function on(e){if(e===fr)throw Error(u(174));return e}function Hi(e,t){switch(we(hr,t),we(pr,e),we(St,fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qo(t,e)}ke(St),we(St,t)}function Ln(){ke(St),ke(pr),ke(hr)}function Ca(e){on(hr.current);var t=on(St.current),n=qo(t,e.type);t!==n&&(we(pr,e),we(St,n))}function qi(e){pr.current===e&&(ke(St),ke(pr))}var Re=At(0);function co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=[];function Qi(){for(var e=0;e<Vi.length;e++)Vi[e]._workInProgressVersionPrimary=null;Vi.length=0}var fo=k.ReactCurrentDispatcher,Ki=k.ReactCurrentBatchConfig,sn=0,ze=null,Le=null,Ne=null,po=!1,gr=!1,mr=0,bd=0;function Be(){throw Error(u(321))}function Yi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Gi(e,t,n,r,o,i){if(sn=i,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?Pd:Nd,e=n(r,o),gr){i=0;do{if(gr=!1,mr=0,25<=i)throw Error(u(301));i+=1,Ne=Le=null,t.updateQueue=null,fo.current=Dd,e=n(r,o)}while(gr)}if(fo.current=mo,t=Le!==null&&Le.next!==null,sn=0,Ne=Le=ze=null,po=!1,t)throw Error(u(300));return e}function Ji(){var e=mr!==0;return mr=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ze.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function at(){if(Le===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ne===null?ze.memoizedState:Ne.next;if(t!==null)Ne=t,Le=e;else{if(e===null)throw Error(u(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ne===null?ze.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function yr(e,t){return typeof t=="function"?t(e):t}function Xi(e){var t=at(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=Le,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var d=a=null,p=null,v=i;do{var E=v.lane;if((sn&E)===E)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:e(r,v.action);else{var R={lane:E,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(d=p=R,a=r):p=p.next=R,ze.lanes|=E,ln|=E}v=v.next}while(v!==null&&v!==i);p===null?a=r:p.next=d,pt(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ze.lanes|=i,ln|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zi(e){var t=at(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);pt(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ja(){}function _a(e,t){var n=ze,r=at(),o=t(),i=!pt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ye=!0),r=r.queue,es(za.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,xr(9,Ra.bind(null,n,r,o,t),void 0,null),De===null)throw Error(u(349));(sn&30)!==0||Ea(n,t,o)}return o}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&ba(e)}function za(e,t,n){return n(function(){Ta(t)&&ba(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function ba(e){var t=zt(e,1);t!==null&&xt(t,e,1,-1)}function Ia(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ld.bind(null,ze,e),[t.memoizedState,e]}function xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ma(){return at().memoizedState}function ho(e,t,n,r){var o=kt();ze.flags|=e,o.memoizedState=xr(1|t,n,void 0,r===void 0?null:r)}function go(e,t,n,r){var o=at();r=r===void 0?null:r;var i=void 0;if(Le!==null){var a=Le.memoizedState;if(i=a.destroy,r!==null&&Yi(r,a.deps)){o.memoizedState=xr(t,n,i,r);return}}ze.flags|=e,o.memoizedState=xr(1|t,n,i,r)}function La(e,t){return ho(8390656,8,e,t)}function es(e,t){return go(2048,8,e,t)}function Pa(e,t){return go(4,2,e,t)}function Na(e,t){return go(4,4,e,t)}function Da(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fa(e,t,n){return n=n!=null?n.concat([e]):null,go(4,4,Da.bind(null,t,e),n)}function ts(){}function Oa(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return(sn&21)===0?(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n):(pt(n,t)||(n=ml(),ze.lanes|=n,ln|=n,e.baseState=!0),t)}function Id(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=Ki.transition;Ki.transition={};try{e(!1),t()}finally{xe=n,Ki.transition=r}}function Ua(){return at().memoizedState}function Md(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ba(e))$a(t,n);else if(n=va(e,t,n,r),n!==null){var o=Ve();xt(n,e,r,o),Ha(n,t,r)}}function Ld(e,t,n){var r=Qt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ba(e))$a(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,d=i(a,n);if(o.hasEagerState=!0,o.eagerState=d,pt(d,a)){var p=t.interleaved;p===null?(o.next=o,Bi(t)):(o.next=p.next,p.next=o),t.interleaved=o;return}}catch{}finally{}n=va(e,t,o,r),n!==null&&(o=Ve(),xt(n,e,r,o),Ha(n,t,r))}}function Ba(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function $a(e,t){gr=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ri(e,n)}}var mo={readContext:lt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Pd={readContext:lt,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:La,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ho(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Md.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:Ia,useDebugValue:ts,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Id.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,o=kt();if(_e){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),De===null)throw Error(u(349));(sn&30)!==0||Ea(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,La(za.bind(null,r,i,e),[e]),r.flags|=2048,xr(9,Ra.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kt(),t=De.identifierPrefix;if(_e){var n=Rt,r=Et;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nd={readContext:lt,useCallback:Oa,useContext:lt,useEffect:es,useImperativeHandle:Fa,useInsertionEffect:Pa,useLayoutEffect:Na,useMemo:Aa,useReducer:Xi,useRef:Ma,useState:function(){return Xi(yr)},useDebugValue:ts,useDeferredValue:function(e){var t=at();return Wa(t,Le.memoizedState,e)},useTransition:function(){var e=Xi(yr)[0],t=at().memoizedState;return[e,t]},useMutableSource:ja,useSyncExternalStore:_a,useId:Ua,unstable_isNewReconciler:!1},Dd={readContext:lt,useCallback:Oa,useContext:lt,useEffect:es,useImperativeHandle:Fa,useInsertionEffect:Pa,useLayoutEffect:Na,useMemo:Aa,useReducer:Zi,useRef:Ma,useState:function(){return Zi(yr)},useDebugValue:ts,useDeferredValue:function(e){var t=at();return Le===null?t.memoizedState=e:Wa(t,Le.memoizedState,e)},useTransition:function(){var e=Zi(yr)[0],t=at().memoizedState;return[e,t]},useMutableSource:ja,useSyncExternalStore:_a,useId:Ua,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ns(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return(e=e._reactInternals)?Xt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=Qt(e),i=Tt(r,o);i.payload=t,n!=null&&(i.callback=n),t=$t(e,i,o),t!==null&&(xt(t,e,o,r),ao(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),o=Qt(e),i=Tt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$t(e,i,o),t!==null&&(xt(t,e,o,r),ao(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=Qt(e),o=Tt(n,r);o.tag=2,t!=null&&(o.callback=t),t=$t(e,o,r),t!==null&&(xt(t,e,r,n),ao(t,e,r))}};function qa(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!or(n,r)||!or(o,i):!0}function Va(e,t,n){var r=!1,o=Wt,i=t.contextType;return typeof i=="object"&&i!==null?i=lt(i):(o=Ke(t)?en:Ue.current,r=t.contextTypes,i=(r=r!=null)?En(e,o):Wt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function rs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},$i(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=lt(i):(i=Ke(t)?en:Ue.current,o.context=En(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ns(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&yo.enqueueReplaceState(o,o.state,null),uo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Pn(e,t){try{var n="",r=t;do n+=pe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function is(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fd=typeof WeakMap=="function"?WeakMap:Map;function Ka(e,t,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jo||(jo=!0,ws=r),is(e,t)},n}function Ya(e,t,n){n=Tt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){is(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){is(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ga(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fd;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Jd.bind(null,e,t,n),t.then(e,e))}function Ja(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xa(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tt(-1,1),t.tag=2,$t(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Od=k.ReactCurrentOwner,Ye=!1;function qe(e,t,n,r){t.child=e===null?xa(t,null,n,r):bn(t,e.child,n,r)}function Za(e,t,n,r,o){n=n.render;var i=t.ref;return Mn(t,o),r=Gi(e,t,n,r,i,o),n=Ji(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bt(e,t,o)):(_e&&n&&Li(t),t.flags|=1,qe(e,t,r,o),t.child)}function eu(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Rs(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,tu(e,t,i,r,o)):(e=bo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:or,n(a,r)&&e.ref===t.ref)return bt(e,t,o)}return t.flags|=1,e=Yt(i,r),e.ref=t.ref,e.return=t,t.child=e}function tu(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(or(i,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,bt(e,t,o)}return ss(e,t,n,r,o)}function nu(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Dn,rt),rt|=n;else{if((n&1073741824)===0)return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Dn,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(Dn,rt),rt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,we(Dn,rt),rt|=r;return qe(e,t,o,n),t.child}function ru(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ss(e,t,n,r,o){var i=Ke(n)?en:Ue.current;return i=En(t,i),Mn(t,o),n=Gi(e,t,n,r,i,o),r=Ji(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bt(e,t,o)):(_e&&r&&Li(t),t.flags|=1,qe(e,t,n,o),t.child)}function ou(e,t,n,r,o){if(Ke(n)){var i=!0;eo(t)}else i=!1;if(Mn(t,o),t.stateNode===null)vo(e,t),Va(t,n,r),rs(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,d=t.memoizedProps;a.props=d;var p=a.context,v=n.contextType;typeof v=="object"&&v!==null?v=lt(v):(v=Ke(n)?en:Ue.current,v=En(t,v));var E=n.getDerivedStateFromProps,R=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function";R||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==r||p!==v)&&Qa(t,a,r,v),Bt=!1;var j=t.memoizedState;a.state=j,uo(t,r,a,o),p=t.memoizedState,d!==r||j!==p||Qe.current||Bt?(typeof E=="function"&&(ns(t,n,E,r),p=t.memoizedState),(d=Bt||qa(t,n,d,r,j,p,v))?(R||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=v,r=d):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,wa(e,t),d=t.memoizedProps,v=t.type===t.elementType?d:gt(t.type,d),a.props=v,R=t.pendingProps,j=a.context,p=n.contextType,typeof p=="object"&&p!==null?p=lt(p):(p=Ke(n)?en:Ue.current,p=En(t,p));var N=n.getDerivedStateFromProps;(E=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(d!==R||j!==p)&&Qa(t,a,r,p),Bt=!1,j=t.memoizedState,a.state=j,uo(t,r,a,o);var U=t.memoizedState;d!==R||j!==U||Qe.current||Bt?(typeof N=="function"&&(ns(t,n,N,r),U=t.memoizedState),(v=Bt||qa(t,n,v,r,j,U,p)||!1)?(E||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,U,p),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,U,p)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),a.props=r,a.state=U,a.context=p,r=v):(typeof a.componentDidUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return ls(e,t,n,r,i,o)}function ls(e,t,n,r,o,i){ru(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&ua(t,n,!1),bt(e,t,i);r=t.stateNode,Od.current=t;var d=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=bn(t,e.child,null,i),t.child=bn(t,null,d,i)):qe(e,t,d,i),t.memoizedState=r.state,o&&ua(t,n,!0),t.child}function iu(e){var t=e.stateNode;t.pendingContext?la(e,t.pendingContext,t.pendingContext!==t.context):t.context&&la(e,t.context,!1),Hi(e,t.containerInfo)}function su(e,t,n,r,o){return Tn(),Fi(o),t.flags|=256,qe(e,t,n,r),t.child}var as={dehydrated:null,treeContext:null,retryLane:0};function us(e){return{baseLanes:e,cachePool:null,transitions:null}}function lu(e,t,n){var r=t.pendingProps,o=Re.current,i=!1,a=(t.flags&128)!==0,d;if((d=a)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),we(Re,o&1),e===null)return Di(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Io(a,r,0,null),e=dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=us(n),t.memoizedState=as,e):cs(t,a));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return Ad(e,t,a,r,d,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,d=o.sibling;var p={mode:"hidden",children:r.children};return(a&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Yt(o,p),r.subtreeFlags=o.subtreeFlags&14680064),d!==null?i=Yt(d,i):(i=dn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?us(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=as,r}return i=e.child,e=i.sibling,r=Yt(i,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cs(e,t){return t=Io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xo(e,t,n,r){return r!==null&&Fi(r),bn(t,e.child,null,n),e=cs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ad(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=os(Error(u(422))),xo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Io({mode:"visible",children:r.children},o,0,null),i=dn(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,(t.mode&1)!==0&&bn(t,e.child,null,a),t.child.memoizedState=us(a),t.memoizedState=as,i);if((t.mode&1)===0)return xo(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var d=r.dgst;return r=d,i=Error(u(419)),r=os(i,r,void 0),xo(e,t,a,r)}if(d=(a&e.childLanes)!==0,Ye||d){if(r=De,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|a))!==0?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,zt(e,o),xt(r,e,o,-1))}return Es(),r=os(Error(u(421))),xo(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Xd.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,nt=Ot(o.nextSibling),tt=t,_e=!0,ht=null,e!==null&&(it[st++]=Et,it[st++]=Rt,it[st++]=tn,Et=e.id,Rt=e.overflow,tn=t),t=cs(t,r.children),t.flags|=4096,t)}function au(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ui(e.return,t,n)}function ds(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function uu(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(qe(e,t,r.children,n),r=Re.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&au(e,n,t);else if(e.tag===19)au(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(Re,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&co(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ds(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&co(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ds(t,!0,n,null,i);break;case"together":ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wd(e,t,n){switch(t.tag){case 3:iu(t),Tn();break;case 5:Ca(t);break;case 1:Ke(t.type)&&eo(t);break;case 4:Hi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;we(so,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(Re,Re.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?lu(e,t,n):(we(Re,Re.current&1),e=bt(e,t,n),e!==null?e.sibling:null);we(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return uu(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),we(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,nu(e,t,n)}return bt(e,t,n)}var cu,fs,du,fu;cu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fs=function(){},du=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,on(St.current);var i=null;switch(n){case"input":o=Uo(e,o),r=Uo(e,r),i=[];break;case"select":o=W({},o,{value:void 0}),r=W({},r,{value:void 0}),i=[];break;case"textarea":o=Ho(e,o),r=Ho(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jr)}Vo(n,r);var a;n=null;for(v in o)if(!r.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var d=o[v];for(a in d)d.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(g.hasOwnProperty(v)?i||(i=[]):(i=i||[]).push(v,null));for(v in r){var p=r[v];if(d=o?.[v],r.hasOwnProperty(v)&&p!==d&&(p!=null||d!=null))if(v==="style")if(d){for(a in d)!d.hasOwnProperty(a)||p&&p.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in p)p.hasOwnProperty(a)&&d[a]!==p[a]&&(n||(n={}),n[a]=p[a])}else n||(i||(i=[]),i.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,d=d?d.__html:void 0,p!=null&&d!==p&&(i=i||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(i=i||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(g.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&Se("scroll",e),i||d===p||(i=[])):(i=i||[]).push(v,p))}n&&(i=i||[]).push("style",n);var v=i;(t.updateQueue=v)&&(t.flags|=4)}},fu=function(e,t,n,r){n!==r&&(t.flags|=4)};function vr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ud(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return Ke(t.type)&&Zr(),$e(t),null;case 3:return r=t.stateNode,Ln(),ke(Qe),ke(Ue),Qi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ht!==null&&(Cs(ht),ht=null))),fs(e,t),$e(t),null;case 5:qi(t);var o=on(hr.current);if(n=t.type,e!==null&&t.stateNode!=null)du(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(u(166));return $e(t),null}if(e=on(St.current),oo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[wt]=t,r[ur]=i,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(o=0;o<sr.length;o++)Se(sr[o],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Vs(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":Ys(r,i),Se("invalid",r)}Vo(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var d=i[a];a==="children"?typeof d=="string"?r.textContent!==d&&(i.suppressHydrationWarning!==!0&&Gr(r.textContent,d,e),o=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(i.suppressHydrationWarning!==!0&&Gr(r.textContent,d,e),o=["children",""+d]):g.hasOwnProperty(a)&&d!=null&&a==="onScroll"&&Se("scroll",r)}switch(n){case"input":Rr(r),Ks(r,i,!0);break;case"textarea":Rr(r),Js(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jr)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xs(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wt]=t,e[ur]=r,cu(e,t,!1,!1),t.stateNode=e;e:{switch(a=Qo(n,r),n){case"dialog":Se("cancel",e),Se("close",e),o=r;break;case"iframe":case"object":case"embed":Se("load",e),o=r;break;case"video":case"audio":for(o=0;o<sr.length;o++)Se(sr[o],e);o=r;break;case"source":Se("error",e),o=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),o=r;break;case"details":Se("toggle",e),o=r;break;case"input":Vs(e,r),o=Uo(e,r),Se("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=W({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Ys(e,r),o=Ho(e,r),Se("invalid",e);break;default:o=r}Vo(n,o),d=o;for(i in d)if(d.hasOwnProperty(i)){var p=d[i];i==="style"?tl(e,p):i==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Zs(e,p)):i==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Un(e,p):typeof p=="number"&&Un(e,""+p):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(g.hasOwnProperty(i)?p!=null&&i==="onScroll"&&Se("scroll",e):p!=null&&T(e,i,p,a))}switch(n){case"input":Rr(e),Ks(e,r,!1);break;case"textarea":Rr(e),Js(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hn(e,!!r.multiple,i,!1):r.defaultValue!=null&&hn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)fu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(u(166));if(n=on(hr.current),on(St.current),oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[wt]=t,(i=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Gr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gr(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=t,t.stateNode=r}return $e(t),null;case 13:if(ke(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&nt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ga(),Tn(),t.flags|=98560,i=!1;else if(i=oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(u(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(u(317));i[wt]=t}else Tn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else ht!==null&&(Cs(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?Pe===0&&(Pe=3):Es())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Ln(),fs(e,t),e===null&&lr(t.stateNode.containerInfo),$e(t),null;case 10:return Wi(t.type._context),$e(t),null;case 17:return Ke(t.type)&&Zr(),$e(t),null;case 19:if(ke(Re),i=t.memoizedState,i===null)return $e(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)vr(i,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=co(e),a!==null){for(t.flags|=128,vr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&be()>Fn&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304)}else{if(!r)if(e=co(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return $e(t),null}else 2*be()-i.renderingStartTime>Fn&&n!==1073741824&&(t.flags|=128,r=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=be(),t.sibling=null,n=Re.current,we(Re,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return _s(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(rt&1073741824)!==0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(u(156,t.tag))}function Bd(e,t){switch(Pi(t),t.tag){case 1:return Ke(t.type)&&Zr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(),ke(Qe),ke(Ue),Qi(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return qi(t),null;case 13:if(ke(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Re),null;case 4:return Ln(),null;case 10:return Wi(t.type._context),null;case 22:case 23:return _s(),null;case 24:return null;default:return null}}var wo=!1,He=!1,$d=typeof WeakSet=="function"?WeakSet:Set,A=null;function Nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function ps(e,t,n){try{n()}catch(r){Te(e,t,r)}}var pu=!1;function Hd(e,t){if(_i=Ar,e=ql(),yi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,d=-1,p=-1,v=0,E=0,R=e,j=null;t:for(;;){for(var N;R!==n||o!==0&&R.nodeType!==3||(d=a+o),R!==i||r!==0&&R.nodeType!==3||(p=a+r),R.nodeType===3&&(a+=R.nodeValue.length),(N=R.firstChild)!==null;)j=R,R=N;for(;;){if(R===e)break t;if(j===n&&++v===o&&(d=a),j===i&&++E===r&&(p=a),(N=R.nextSibling)!==null)break;R=j,j=R.parentNode}R=N}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ei={focusedElem:e,selectionRange:n},Ar=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var U=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var $=U.memoizedProps,Ie=U.memoizedState,y=t.stateNode,h=y.getSnapshotBeforeUpdate(t.elementType===t.type?$:gt(t.type,$),Ie);y.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(z){Te(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return U=pu,pu=!1,U}function wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&ps(t,n,i)}o=o.next}while(o!==r)}}function So(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hu(e){var t=e.alternate;t!==null&&(e.alternate=null,hu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[ur],delete t[bi],delete t[Ed],delete t[Rd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gu(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jr));else if(r!==4&&(e=e.child,e!==null))for(gs(e,t,n),e=e.sibling;e!==null;)gs(e,t,n),e=e.sibling}function ms(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ms(e,t,n),e=e.sibling;e!==null;)ms(e,t,n),e=e.sibling}var Oe=null,mt=!1;function Ht(e,t,n){for(n=n.child;n!==null;)yu(e,t,n),n=n.sibling}function yu(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Lr,n)}catch{}switch(n.tag){case 5:He||Nn(n,t);case 6:var r=Oe,o=mt;Oe=null,Ht(e,t,n),Oe=r,mt=o,Oe!==null&&(mt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(mt?(e=Oe,n=n.stateNode,e.nodeType===8?Ti(e.parentNode,n):e.nodeType===1&&Ti(e,n),Xn(e)):Ti(Oe,n.stateNode));break;case 4:r=Oe,o=mt,Oe=n.stateNode.containerInfo,mt=!0,Ht(e,t,n),Oe=r,mt=o;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&((i&2)!==0||(i&4)!==0)&&ps(n,t,a),o=o.next}while(o!==r)}Ht(e,t,n);break;case 1:if(!He&&(Nn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){Te(n,t,d)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Ht(e,t,n),He=r):Ht(e,t,n);break;default:Ht(e,t,n)}}function xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $d),t.forEach(function(r){var o=Zd.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,d=a;e:for(;d!==null;){switch(d.tag){case 5:Oe=d.stateNode,mt=!1;break e;case 3:Oe=d.stateNode.containerInfo,mt=!0;break e;case 4:Oe=d.stateNode.containerInfo,mt=!0;break e}d=d.return}if(Oe===null)throw Error(u(160));yu(i,a,o),Oe=null,mt=!1;var p=o.alternate;p!==null&&(p.return=null),o.return=null}catch(v){Te(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Ct(e),r&4){try{wr(3,e,e.return),So(3,e)}catch($){Te(e,e.return,$)}try{wr(5,e,e.return)}catch($){Te(e,e.return,$)}}break;case 1:yt(t,e),Ct(e),r&512&&n!==null&&Nn(n,n.return);break;case 5:if(yt(t,e),Ct(e),r&512&&n!==null&&Nn(n,n.return),e.flags&32){var o=e.stateNode;try{Un(o,"")}catch($){Te(e,e.return,$)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,d=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{d==="input"&&i.type==="radio"&&i.name!=null&&Qs(o,i),Qo(d,a);var v=Qo(d,i);for(a=0;a<p.length;a+=2){var E=p[a],R=p[a+1];E==="style"?tl(o,R):E==="dangerouslySetInnerHTML"?Zs(o,R):E==="children"?Un(o,R):T(o,E,R,v)}switch(d){case"input":Bo(o,i);break;case"textarea":Gs(o,i);break;case"select":var j=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?hn(o,!!i.multiple,N,!1):j!==!!i.multiple&&(i.defaultValue!=null?hn(o,!!i.multiple,i.defaultValue,!0):hn(o,!!i.multiple,i.multiple?[]:"",!1))}o[ur]=i}catch($){Te(e,e.return,$)}}break;case 6:if(yt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(u(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch($){Te(e,e.return,$)}}break;case 3:if(yt(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch($){Te(e,e.return,$)}break;case 4:yt(t,e),Ct(e);break;case 13:yt(t,e),Ct(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(vs=be())),r&4&&xu(e);break;case 22:if(E=n!==null&&n.memoizedState!==null,e.mode&1?(He=(v=He)||E,yt(t,e),He=v):yt(t,e),Ct(e),r&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!E&&(e.mode&1)!==0)for(A=e,E=e.child;E!==null;){for(R=A=E;A!==null;){switch(j=A,N=j.child,j.tag){case 0:case 11:case 14:case 15:wr(4,j,j.return);break;case 1:Nn(j,j.return);var U=j.stateNode;if(typeof U.componentWillUnmount=="function"){r=j,n=j.return;try{t=r,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch($){Te(r,n,$)}}break;case 5:Nn(j,j.return);break;case 22:if(j.memoizedState!==null){ku(R);continue}}N!==null?(N.return=j,A=N):ku(R)}E=E.sibling}e:for(E=null,R=e;;){if(R.tag===5){if(E===null){E=R;try{o=R.stateNode,v?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(d=R.stateNode,p=R.memoizedProps.style,a=p!=null&&p.hasOwnProperty("display")?p.display:null,d.style.display=el("display",a))}catch($){Te(e,e.return,$)}}}else if(R.tag===6){if(E===null)try{R.stateNode.nodeValue=v?"":R.memoizedProps}catch($){Te(e,e.return,$)}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===e)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===e)break e;for(;R.sibling===null;){if(R.return===null||R.return===e)break e;E===R&&(E=null),R=R.return}E===R&&(E=null),R.sibling.return=R.return,R=R.sibling}}break;case 19:yt(t,e),Ct(e),r&4&&xu(e);break;case 21:break;default:yt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gu(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Un(o,""),r.flags&=-33);var i=mu(e);ms(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,d=mu(e);gs(e,d,a);break;default:throw Error(u(161))}}catch(p){Te(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qd(e,t,n){A=e,wu(e)}function wu(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var o=A,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||wo;if(!a){var d=o.alternate,p=d!==null&&d.memoizedState!==null||He;d=wo;var v=He;if(wo=a,(He=p)&&!v)for(A=o;A!==null;)a=A,p=a.child,a.tag===22&&a.memoizedState!==null?Cu(o):p!==null?(p.return=a,A=p):Cu(o);for(;i!==null;)A=i,wu(i),i=i.sibling;A=o,wo=d,He=v}Su(e)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,A=i):Su(e)}}function Su(e){for(;A!==null;){var t=A;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:He||So(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ka(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ka(t,a,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var E=v.memoizedState;if(E!==null){var R=E.dehydrated;R!==null&&Xn(R)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}He||t.flags&512&&hs(t)}catch(j){Te(t,t.return,j)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function ku(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Cu(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{So(4,t)}catch(p){Te(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(p){Te(t,o,p)}}var i=t.return;try{hs(t)}catch(p){Te(t,i,p)}break;case 5:var a=t.return;try{hs(t)}catch(p){Te(t,a,p)}}}catch(p){Te(t,t.return,p)}if(t===e){A=null;break}var d=t.sibling;if(d!==null){d.return=t.return,A=d;break}A=t.return}}var Vd=Math.ceil,ko=k.ReactCurrentDispatcher,ys=k.ReactCurrentOwner,ut=k.ReactCurrentBatchConfig,fe=0,De=null,Me=null,Ae=0,rt=0,Dn=At(0),Pe=0,Sr=null,ln=0,Co=0,xs=0,kr=null,Ge=null,vs=0,Fn=1/0,It=null,jo=!1,ws=null,qt=null,_o=!1,Vt=null,Eo=0,Cr=0,Ss=null,Ro=-1,zo=0;function Ve(){return(fe&6)!==0?be():Ro!==-1?Ro:Ro=be()}function Qt(e){return(e.mode&1)===0?1:(fe&2)!==0&&Ae!==0?Ae&-Ae:Td.transition!==null?(zo===0&&(zo=ml()),zo):(e=xe,e!==0||(e=window.event,e=e===void 0?16:_l(e.type)),e)}function xt(e,t,n,r){if(50<Cr)throw Cr=0,Ss=null,Error(u(185));Qn(e,n,r),((fe&2)===0||e!==De)&&(e===De&&((fe&2)===0&&(Co|=n),Pe===4&&Kt(e,Ae)),Je(e,r),n===1&&fe===0&&(t.mode&1)===0&&(Fn=be()+500,to&&Ut()))}function Je(e,t){var n=e.callbackNode;Tc(e,t);var r=Dr(e,e===De?Ae:0);if(r===0)n!==null&&pl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pl(n),t===1)e.tag===0?zd(_u.bind(null,e)):ca(_u.bind(null,e)),jd(function(){(fe&6)===0&&Ut()}),n=null;else{switch(yl(r)){case 1:n=ei;break;case 4:n=hl;break;case 16:n=Mr;break;case 536870912:n=gl;break;default:n=Mr}n=Lu(n,ju.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ju(e,t){if(Ro=-1,zo=0,(fe&6)!==0)throw Error(u(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var r=Dr(e,e===De?Ae:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=To(e,r);else{t=r;var o=fe;fe|=2;var i=Ru();(De!==e||Ae!==t)&&(It=null,Fn=be()+500,un(e,t));do try{Yd();break}catch(d){Eu(e,d)}while(!0);Ai(),ko.current=i,fe=o,Me!==null?t=0:(De=null,Ae=0,t=Pe)}if(t!==0){if(t===2&&(o=ti(e),o!==0&&(r=o,t=ks(e,o))),t===1)throw n=Sr,un(e,0),Kt(e,r),Je(e,be()),n;if(t===6)Kt(e,r);else{if(o=e.current.alternate,(r&30)===0&&!Qd(o)&&(t=To(e,r),t===2&&(i=ti(e),i!==0&&(r=i,t=ks(e,i))),t===1))throw n=Sr,un(e,0),Kt(e,r),Je(e,be()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:cn(e,Ge,It);break;case 3:if(Kt(e,r),(r&130023424)===r&&(t=vs+500-be(),10<t)){if(Dr(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zi(cn.bind(null,e,Ge,It),t);break}cn(e,Ge,It);break;case 4:if(Kt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-ft(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vd(r/1960))-r,10<r){e.timeoutHandle=zi(cn.bind(null,e,Ge,It),r);break}cn(e,Ge,It);break;case 5:cn(e,Ge,It);break;default:throw Error(u(329))}}}return Je(e,be()),e.callbackNode===n?ju.bind(null,e):null}function ks(e,t){var n=kr;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=To(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Cs(t)),e}function Cs(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function Qd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!pt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~xs,t&=~Co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if((fe&6)!==0)throw Error(u(327));On();var t=Dr(e,0);if((t&1)===0)return Je(e,be()),null;var n=To(e,t);if(e.tag!==0&&n===2){var r=ti(e);r!==0&&(t=r,n=ks(e,r))}if(n===1)throw n=Sr,un(e,0),Kt(e,t),Je(e,be()),n;if(n===6)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Ge,It),Je(e,be()),null}function js(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Fn=be()+500,to&&Ut())}}function an(e){Vt!==null&&Vt.tag===0&&(fe&6)===0&&On();var t=fe;fe|=1;var n=ut.transition,r=xe;try{if(ut.transition=null,xe=1,e)return e()}finally{xe=r,ut.transition=n,fe=t,(fe&6)===0&&Ut()}}function _s(){rt=Dn.current,ke(Dn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cd(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Pi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zr();break;case 3:Ln(),ke(Qe),ke(Ue),Qi();break;case 5:qi(r);break;case 4:Ln();break;case 13:ke(Re);break;case 19:ke(Re);break;case 10:Wi(r.type._context);break;case 22:case 23:_s()}n=n.return}if(De=e,Me=e=Yt(e.current,null),Ae=rt=t,Pe=0,Sr=null,xs=Co=ln=0,Ge=kr=null,rn!==null){for(t=0;t<rn.length;t++)if(n=rn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}rn=null}return e}function Eu(e,t){do{var n=Me;try{if(Ai(),fo.current=mo,po){for(var r=ze.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}po=!1}if(sn=0,Ne=Le=ze=null,gr=!1,mr=0,ys.current=null,n===null||n.return===null){Pe=1,Sr=t,Me=null;break}e:{var i=e,a=n.return,d=n,p=t;if(t=Ae,d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,E=d,R=E.tag;if((E.mode&1)===0&&(R===0||R===11||R===15)){var j=E.alternate;j?(E.updateQueue=j.updateQueue,E.memoizedState=j.memoizedState,E.lanes=j.lanes):(E.updateQueue=null,E.memoizedState=null)}var N=Ja(a);if(N!==null){N.flags&=-257,Xa(N,a,d,i,t),N.mode&1&&Ga(i,v,t),t=N,p=v;var U=t.updateQueue;if(U===null){var $=new Set;$.add(p),t.updateQueue=$}else U.add(p);break e}else{if((t&1)===0){Ga(i,v,t),Es();break e}p=Error(u(426))}}else if(_e&&d.mode&1){var Ie=Ja(a);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),Xa(Ie,a,d,i,t),Fi(Pn(p,d));break e}}i=p=Pn(p,d),Pe!==4&&(Pe=2),kr===null?kr=[i]:kr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Ka(i,p,t);Sa(i,y);break e;case 1:d=p;var h=i.type,x=i.stateNode;if((i.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qt===null||!qt.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var z=Ya(i,d,t);Sa(i,z);break e}}i=i.return}while(i!==null)}Tu(n)}catch(H){t=H,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Ru(){var e=ko.current;return ko.current=mo,e===null?mo:e}function Es(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),De===null||(ln&268435455)===0&&(Co&268435455)===0||Kt(De,Ae)}function To(e,t){var n=fe;fe|=2;var r=Ru();(De!==e||Ae!==t)&&(It=null,un(e,t));do try{Kd();break}catch(o){Eu(e,o)}while(!0);if(Ai(),fe=n,ko.current=r,Me!==null)throw Error(u(261));return De=null,Ae=0,Pe}function Kd(){for(;Me!==null;)zu(Me)}function Yd(){for(;Me!==null&&!wc();)zu(Me)}function zu(e){var t=Mu(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Tu(e):Me=t,ys.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ud(n,t,rt),n!==null){Me=n;return}}else{if(n=Bd(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Pe===0&&(Pe=5)}function cn(e,t,n){var r=xe,o=ut.transition;try{ut.transition=null,xe=1,Gd(e,t,n,r)}finally{ut.transition=o,xe=r}return null}function Gd(e,t,n,r){do On();while(Vt!==null);if((fe&6)!==0)throw Error(u(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(bc(e,i),e===De&&(Me=De=null,Ae=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||_o||(_o=!0,Lu(Mr,function(){return On(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=ut.transition,ut.transition=null;var a=xe;xe=1;var d=fe;fe|=4,ys.current=null,Hd(e,n),vu(n,e),md(Ei),Ar=!!_i,Ei=_i=null,e.current=n,qd(n),Sc(),fe=d,xe=a,ut.transition=i}else e.current=n;if(_o&&(_o=!1,Vt=e,Eo=o),i=e.pendingLanes,i===0&&(qt=null),jc(n.stateNode),Je(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(jo)throw jo=!1,e=ws,ws=null,e;return(Eo&1)!==0&&e.tag!==0&&On(),i=e.pendingLanes,(i&1)!==0?e===Ss?Cr++:(Cr=0,Ss=e):Cr=0,Ut(),null}function On(){if(Vt!==null){var e=yl(Eo),t=ut.transition,n=xe;try{if(ut.transition=null,xe=16>e?16:e,Vt===null)var r=!1;else{if(e=Vt,Vt=null,Eo=0,(fe&6)!==0)throw Error(u(331));var o=fe;for(fe|=4,A=e.current;A!==null;){var i=A,a=i.child;if((A.flags&16)!==0){var d=i.deletions;if(d!==null){for(var p=0;p<d.length;p++){var v=d[p];for(A=v;A!==null;){var E=A;switch(E.tag){case 0:case 11:case 15:wr(8,E,i)}var R=E.child;if(R!==null)R.return=E,A=R;else for(;A!==null;){E=A;var j=E.sibling,N=E.return;if(hu(E),E===v){A=null;break}if(j!==null){j.return=N,A=j;break}A=N}}}var U=i.alternate;if(U!==null){var $=U.child;if($!==null){U.child=null;do{var Ie=$.sibling;$.sibling=null,$=Ie}while($!==null)}}A=i}}if((i.subtreeFlags&2064)!==0&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:wr(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,A=y;break e}A=i.return}}var h=e.current;for(A=h;A!==null;){a=A;var x=a.child;if((a.subtreeFlags&2064)!==0&&x!==null)x.return=a,A=x;else e:for(a=h;A!==null;){if(d=A,(d.flags&2048)!==0)try{switch(d.tag){case 0:case 11:case 15:So(9,d)}}catch(H){Te(d,d.return,H)}if(d===a){A=null;break e}var z=d.sibling;if(z!==null){z.return=d.return,A=z;break e}A=d.return}}if(fe=o,Ut(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Lr,e)}catch{}r=!0}return r}finally{xe=n,ut.transition=t}}return!1}function bu(e,t,n){t=Pn(n,t),t=Ka(e,t,1),e=$t(e,t,1),t=Ve(),e!==null&&(Qn(e,1,t),Je(e,t))}function Te(e,t,n){if(e.tag===3)bu(e,e,n);else for(;t!==null;){if(t.tag===3){bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=Pn(n,e),e=Ya(t,e,1),t=$t(t,e,1),e=Ve(),t!==null&&(Qn(t,1,e),Je(t,e));break}}t=t.return}}function Jd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ae&n)===n&&(Pe===4||Pe===3&&(Ae&130023424)===Ae&&500>be()-vs?un(e,0):xs|=n),Je(e,t)}function Iu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Nr,Nr<<=1,(Nr&130023424)===0&&(Nr=4194304)));var n=Ve();e=zt(e,t),e!==null&&(Qn(e,t,n),Je(e,n))}function Xd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iu(e,n)}function Zd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}r!==null&&r.delete(t),Iu(e,n)}var Mu;Mu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ye=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ye=!1,Wd(e,t,n);Ye=(e.flags&131072)!==0}else Ye=!1,_e&&(t.flags&1048576)!==0&&da(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vo(e,t),e=t.pendingProps;var o=En(t,Ue.current);Mn(t,n),o=Gi(null,t,r,e,o,n);var i=Ji();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,eo(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,$i(t),o.updater=yo,t.stateNode=o,o._reactInternals=t,rs(t,r,e,n),t=ls(null,t,r,!0,i,n)):(t.tag=0,_e&&i&&Li(t),qe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=tf(r),e=gt(r,e),o){case 0:t=ss(null,t,r,e,n);break e;case 1:t=ou(null,t,r,e,n);break e;case 11:t=Za(null,t,r,e,n);break e;case 14:t=eu(null,t,r,gt(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),ss(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),ou(e,t,r,o,n);case 3:e:{if(iu(t),e===null)throw Error(u(387));r=t.pendingProps,i=t.memoizedState,o=i.element,wa(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Pn(Error(u(423)),t),t=su(e,t,r,n,o);break e}else if(r!==o){o=Pn(Error(u(424)),t),t=su(e,t,r,n,o);break e}else for(nt=Ot(t.stateNode.containerInfo.firstChild),tt=t,_e=!0,ht=null,n=xa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tn(),r===o){t=bt(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return Ca(t),e===null&&Di(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Ri(r,o)?a=null:i!==null&&Ri(r,i)&&(t.flags|=32),ru(e,t),qe(e,t,a,n),t.child;case 6:return e===null&&Di(t),null;case 13:return lu(e,t,n);case 4:return Hi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bn(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),Za(e,t,r,o,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,we(so,r._currentValue),r._currentValue=a,i!==null)if(pt(i.value,a)){if(i.children===o.children&&!Qe.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){a=i.child;for(var p=d.firstContext;p!==null;){if(p.context===r){if(i.tag===1){p=Tt(-1,n&-n),p.tag=2;var v=i.updateQueue;if(v!==null){v=v.shared;var E=v.pending;E===null?p.next=p:(p.next=E.next,E.next=p),v.pending=p}}i.lanes|=n,p=i.alternate,p!==null&&(p.lanes|=n),Ui(i.return,n,t),d.lanes|=n;break}p=p.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(u(341));a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Ui(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}qe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Mn(t,n),o=lt(o),r=r(o),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,o=gt(r,t.pendingProps),o=gt(r.type,o),eu(e,t,r,o,n);case 15:return tu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:gt(r,o),vo(e,t),t.tag=1,Ke(r)?(e=!0,eo(t)):e=!1,Mn(t,n),Va(t,r,o),rs(t,r,o,n),ls(null,t,r,!0,e,n);case 19:return uu(e,t,n);case 22:return nu(e,t,n)}throw Error(u(156,t.tag))};function Lu(e,t){return fl(e,t)}function ef(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(e,t,n,r){return new ef(e,t,n,r)}function Rs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tf(e){if(typeof e=="function")return Rs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===de)return 11;if(e===ee)return 14}return 2}function Yt(e,t){var n=e.alternate;return n===null?(n=ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bo(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")Rs(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ce:return dn(n.children,o,i,t);case me:a=8,o|=8;break;case Ce:return e=ct(12,n,t,o|2),e.elementType=Ce,e.lanes=i,e;case ae:return e=ct(13,n,t,o),e.elementType=ae,e.lanes=i,e;case I:return e=ct(19,n,t,o),e.elementType=I,e.lanes=i,e;case ne:return Io(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case We:a=10;break e;case dt:a=9;break e;case de:a=11;break e;case ee:a=14;break e;case ie:a=16,r=null;break e}throw Error(u(130,e==null?e:typeof e,""))}return t=ct(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function dn(e,t,n,r){return e=ct(7,e,r,t),e.lanes=n,e}function Io(e,t,n,r){return e=ct(22,e,r,t),e.elementType=ne,e.lanes=n,e.stateNode={isHidden:!1},e}function zs(e,t,n){return e=ct(6,e,null,t),e.lanes=n,e}function Ts(e,t,n){return t=ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bs(e,t,n,r,o,i,a,d,p){return e=new nf(e,t,n,d,p),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$i(i),e}function rf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pu(e){if(!e)return Wt;e=e._reactInternals;e:{if(Xt(e)!==e||e.tag!==1)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(u(171))}if(e.tag===1){var n=e.type;if(Ke(n))return aa(e,n,t)}return t}function Nu(e,t,n,r,o,i,a,d,p){return e=bs(n,r,!0,e,o,i,a,d,p),e.context=Pu(null),n=e.current,r=Ve(),o=Qt(n),i=Tt(r,o),i.callback=t??null,$t(n,i,o),e.current.lanes=o,Qn(e,o,r),Je(e,r),e}function Mo(e,t,n,r){var o=t.current,i=Ve(),a=Qt(o);return n=Pu(n),t.context===null?t.context=n:t.pendingContext=n,t=Tt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$t(o,t,a),e!==null&&(xt(e,o,a,i),ao(e,o,a)),a}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Is(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}function of(){return null}var Fu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ms(e){this._internalRoot=e}Po.prototype.render=Ms.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));Mo(e,t,null,null)},Po.prototype.unmount=Ms.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){Mo(null,e,null,null)}),t[jt]=null}};function Po(e){this._internalRoot=e}Po.prototype.unstable_scheduleHydration=function(e){if(e){var t=wl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&t!==0&&t<Nt[n].priority;n++);Nt.splice(n,0,e),n===0&&Cl(e)}};function Ls(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function No(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ou(){}function sf(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var v=Lo(a);i.call(v)}}var a=Nu(t,r,e,0,null,!1,!1,"",Ou);return e._reactRootContainer=a,e[jt]=a.current,lr(e.nodeType===8?e.parentNode:e),an(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var d=r;r=function(){var v=Lo(p);d.call(v)}}var p=bs(e,0,!1,null,null,!1,!1,"",Ou);return e._reactRootContainer=p,e[jt]=p.current,lr(e.nodeType===8?e.parentNode:e),an(function(){Mo(t,p,n,r)}),p}function Do(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var d=o;o=function(){var p=Lo(a);d.call(p)}}Mo(t,a,e,o)}else a=sf(n,t,e,o,r);return Lo(a)}xl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vn(t.pendingLanes);n!==0&&(ri(t,n|1),Je(t,be()),(fe&6)===0&&(Fn=be()+500,Ut()))}break;case 13:an(function(){var r=zt(e,1);if(r!==null){var o=Ve();xt(r,e,1,o)}}),Is(e,1)}},oi=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Ve();xt(t,e,134217728,n)}Is(e,134217728)}},vl=function(e){if(e.tag===13){var t=Qt(e),n=zt(e,t);if(n!==null){var r=Ve();xt(n,e,t,r)}Is(e,t)}},wl=function(){return xe},Sl=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}},Go=function(e,t,n){switch(t){case"input":if(Bo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Xr(r);if(!o)throw Error(u(90));qs(r),Bo(r,o)}}}break;case"textarea":Gs(e,n);break;case"select":t=n.value,t!=null&&hn(e,!!n.multiple,t,!1)}},il=js,sl=an;var lf={usingClientEntryPoint:!1,Events:[cr,jn,Xr,rl,ol,js]},jr={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},af={bundleType:jr.bundleType,version:jr.version,rendererPackageName:jr.rendererPackageName,rendererConfig:jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cl(e),e===null?null:e.stateNode},findFiberByHostInstance:jr.findFiberByHostInstance||of,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{Lr=Fo.inject(af),vt=Fo}catch{}}return Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lf,Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ls(t))throw Error(u(200));return rf(e,t,null,n)},Xe.createRoot=function(e,t){if(!Ls(e))throw Error(u(299));var n=!1,r="",o=Fu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bs(e,1,!1,null,null,n,!1,r,o),e[jt]=t.current,lr(e.nodeType===8?e.parentNode:e),new Ms(t)},Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=cl(t),e=e===null?null:e.stateNode,e},Xe.flushSync=function(e){return an(e)},Xe.hydrate=function(e,t,n){if(!No(t))throw Error(u(200));return Do(null,e,t,!0,n)},Xe.hydrateRoot=function(e,t,n){if(!Ls(e))throw Error(u(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=Fu;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Nu(t,null,e,1,n??null,o,!1,i,a),e[jt]=t.current,lr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Po(t)},Xe.render=function(e,t,n){if(!No(t))throw Error(u(200));return Do(null,e,t,!1,n)},Xe.unmountComponentAtNode=function(e){if(!No(e))throw Error(u(40));return e._reactRootContainer?(an(function(){Do(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1},Xe.unstable_batchedUpdates=js,Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!No(n))throw Error(u(200));if(e==null||e._reactInternals===void 0)throw Error(u(38));return Do(e,t,n,!1,r)},Xe.version="18.3.1-next-f1338f8080-20240426",Xe}var Vu;function mf(){if(Vu)return Ds.exports;Vu=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(s){console.error(s)}}return c(),Ds.exports=gf(),Ds.exports}var Qu;function yf(){if(Qu)return Oo;Qu=1;var c=mf();return Oo.createRoot=c.createRoot,Oo.hydrateRoot=c.hydrateRoot,Oo}var xf=yf();function vf(c,s=!1){return window.__TAURI_INTERNALS__.transformCallback(c,s)}async function re(c,s={},u){return window.__TAURI_INTERNALS__.invoke(c,s,u)}const Ku="hardcoded_key";class wf{useRustSdkEncryption=!1;xorEncrypt(s){const u=new TextEncoder().encode(Ku);return s.map((f,g)=>f^u[g%u.length])}xorDecrypt(s){const u=new TextEncoder().encode(Ku);return s.map((f,g)=>f^u[g%u.length])}encryptMessage(s,u){if(!s||s.trim().length===0)return console.log("[Encryption] Cannot encrypt an empty message."),"";if(this.useRustSdkEncryption&&u)return this.encryptMessageWithSdk(s);{const f=new TextEncoder().encode(s),g=this.xorEncrypt(f);return btoa(String.fromCharCode(...g))}}decryptMessage(s,u){if(!s||s.trim().length===0)return console.log("[Decryption] Cannot decrypt an empty message."),"";try{if(this.useRustSdkEncryption&&u)return this.decryptMessageWithSdk(s);{const f=new Uint8Array(atob(s).split("").map(w=>w.charCodeAt(0))),g=this.xorDecrypt(f);return new TextDecoder().decode(g)}}catch(f){return console.error("[Decryption] Failed to decrypt message:",f),""}}encryptMessageWithSdk(s){return console.log("[SDK] SDK encryption not yet implemented, falling back to XOR"),this.encryptMessage(s)}decryptMessageWithSdk(s){return console.log("[SDK] SDK decryption not yet implemented, falling back to XOR"),this.decryptMessage(s)}setUseRustSdkEncryption(s){this.useRustSdkEncryption=s,console.log(`[Encryption] SDK encryption ${s?"enabled":"disabled"}`)}}const Ws=new wf;class Sf{async replaceMessageIdByClient(s,u,f){try{const g=await this.findMessageByClientId(s);if(g){const w={...g,messageId:u,timestamp:f||g.timestamp,isSent:!0,isFailed:!1};await re("update_message",{message:w}),console.log(`[MessageLinkingManager] Linked serverId=${u} to local clientId=${s}`)}else console.warn(`[MessageLinkingManager] No local message found with clientId=${s} to link with serverId=${u}`)}catch(g){console.error("[MessageLinkingManager] Failed to replace message ID:",g)}}async findUnlinkedMessageByTimestamp(s,u,f,g=3e3){try{return(await re("get_unread_messages",{chatId:s})).find(C=>C.senderId===u&&!C.messageId&&Math.abs(C.timestamp-f)<=g)||null}catch(w){return console.error("[MessageLinkingManager] Failed to find unlinked message:",w),null}}async robustLinking(s,u,f,g,w){if(f&&f.trim())await this.replaceMessageIdByClient(f,g,w);else if(w){const C=await this.findUnlinkedMessageByTimestamp(s,u,w);C?(await this.replaceMessageIdByClient(C.clientMessageId,g,w),console.log(`[MessageLinkingManager] Linked serverId=${g} via timestamp fallback`)):console.warn(`[MessageLinkingManager] No fallback match found for serverId=${g} with timestamp=${w}`)}else console.warn(`[MessageLinkingManager] Missing clientMessageId and timestamp for serverId=${g} — cannot link`)}async updateStatusByServerId(s,u){try{switch(u.toLowerCase()){case"sent":await re("mark_message_as_sent",{messageId:s});break;case"delivered":await re("mark_message_as_delivered_by_server_id",{messageId:s});break;case"read":await re("mark_message_as_read_by_server_id",{messageId:s});break;default:console.warn(`[MessageLinkingManager] Unknown status: ${u} for serverId=${s}`)}}catch(f){console.error(`[MessageLinkingManager] Failed to apply ${u} to serverId=${s}`,f)}}async findMessageByClientId(s){try{return await re("find_message_by_client_id",{clientMessageId:s})}catch(u){return console.error("[MessageLinkingManager] Failed to find message by client ID:",u),null}}async markMessagesAsReadByServerIds(s){try{s.length>0&&(await re("mark_messages_as_read_by_server_ids",{messageIds:s}),console.log(`[MessageLinkingManager] Marked ${s.length} messages as read by serverIds`))}catch(u){console.error("[MessageLinkingManager] Failed to mark messages as read:",u)}}}const As=new Sf;var Yu;(function(c){c.WINDOW_RESIZED="tauri://resize",c.WINDOW_MOVED="tauri://move",c.WINDOW_CLOSE_REQUESTED="tauri://close-requested",c.WINDOW_DESTROYED="tauri://destroyed",c.WINDOW_FOCUS="tauri://focus",c.WINDOW_BLUR="tauri://blur",c.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",c.WINDOW_THEME_CHANGED="tauri://theme-changed",c.WINDOW_CREATED="tauri://window-created",c.WEBVIEW_CREATED="tauri://webview-created",c.DRAG_ENTER="tauri://drag-enter",c.DRAG_OVER="tauri://drag-over",c.DRAG_DROP="tauri://drag-drop",c.DRAG_LEAVE="tauri://drag-leave"})(Yu||(Yu={}));async function kf(c,s){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(c,s),await re("plugin:event|unlisten",{event:c,eventId:s})}async function Gu(c,s,u){var f;const g=(f=void 0)!==null&&f!==void 0?f:{kind:"Any"};return re("plugin:event|listen",{event:c,target:g,handler:vf(s)}).then(w=>async()=>kf(c,w))}const Cf="https://dev.v1.terracrypt.cc/api/v1";class jf{baseUrl;token=null;constructor(s=Cf){this.baseUrl=s}setToken(s){this.token=s}async makeRequest(s,u={}){const f=`${this.baseUrl}${s}`,g={"Content-Type":"application/json"};this.token&&(g.Authorization=`Bearer ${this.token}`);const w=new AbortController,C=setTimeout(()=>w.abort(),1e4);try{const b=await fetch(f,{...u,headers:g,signal:w.signal});if(clearTimeout(C),!b.ok){const D=await b.text();throw new Error(`API Error ${b.status}: ${D}`)}return b.json()}catch(b){throw clearTimeout(C),b instanceof Error&&b.name==="AbortError"?new Error("Request timeout - please check your internet connection"):b}}async signIn(s){return this.makeRequest("/auth/signin",{method:"POST",body:JSON.stringify(s)})}async signUp(s){return this.makeRequest("/auth/signup",{method:"POST",body:JSON.stringify(s)})}async getCurrentUser(){return this.makeRequest("/users/me")}async searchUsers(s){return this.makeRequest(`/users/search?username=${encodeURIComponent(s)}`)}async updateUser(s){return this.makeRequest("/users",{method:"PUT",body:JSON.stringify(s)})}async getUserById(s){return this.makeRequest(`/users/${s}`)}async getMyChats(){return this.makeRequest("/chats")}async deleteChat(s){return this.makeRequest(`/chats/${s}`,{method:"DELETE"})}async getChatMembers(s){return this.makeRequest(`/chats/${s}/members`)}async createChat(s,u,f){return this.makeRequest("/chats",{method:"POST",body:JSON.stringify({name:s,is_group:u,member_ids:f})})}async leaveChat(s){return this.makeRequest(`/chats/${s}/leave`,{method:"DELETE"})}async addParticipantToChat(s,u){return this.makeRequest(`/chats/${s}/members`,{method:"POST",body:JSON.stringify({user_id:u})})}async removeParticipantFromChat(s,u){return this.makeRequest(`/chats/${s}/members/${u}`,{method:"DELETE"})}async sendChatRequest(s,u){return this.makeRequest("/chat/request",{method:"POST",body:JSON.stringify({to_user_id:s,chat_id:u})})}async getPendingChatRequests(){return this.makeRequest("/chat/request/pending")}async changeChatRequestStatus(s,u){return this.makeRequest("/chat/request/status",{method:"PUT",body:JSON.stringify({request_id:s,status:u})})}async getMessages(s,u,f){const g=new URLSearchParams;return u&&g.append("limit",u.toString()),f&&g.append("before",f),this.makeRequest(`/messages/${s}?${g.toString()}`)}async getFriendsList(){return this.makeRequest("/friends")}async getPendingFriendRequests(){return this.makeRequest("/friends/request/pending")}async sendFriendRequest(s){return this.makeRequest("/friends/request",{method:"POST",body:JSON.stringify({to_user_id:s})})}async acceptFriendRequest(s){return this.makeRequest(`/friends/request/${s}/accept`,{method:"PUT"})}async declineFriendRequest(s){return this.makeRequest(`/friends/request/${s}/reject`,{method:"PUT"})}async deleteFriend(s){return this.makeRequest(`/friends/${s}`,{method:"DELETE"})}async getUserPublicKeys(){return this.makeRequest("/user/public-key")}async getUserKeys(){return this.makeRequest("/users/keys")}async addUserKeys(s){return this.makeRequest("/users/keys",{method:"POST",body:JSON.stringify(s)})}async updateUserKeys(s){return this.makeRequest("/users/keys",{method:"PUT",body:JSON.stringify(s)})}async getOtherUserPublicKeys(s){return this.makeRequest(`/users/${s}/public-keys`)}async checkDbHealth(){return this.makeRequest("/db-health")}}const Hs=new jf;class _f{isConnected=!1;isConnecting=!1;reconnectAttempts=0;lastHeartbeat=0;messageHandlers=new Map;statusHandlers=[];constructor(){this.setupEventListeners()}setupEventListeners(){Gu("message",s=>{try{this.emit("raw-message",s.payload)}catch(u){console.error("Failed to parse WebSocket message:",u)}}).catch(s=>{console.error("Failed to set up message listener:",s)}),Gu("websocket-status",s=>{const u=s.payload;this.updateConnectionStatus(u.message.status)}).catch(s=>{console.error("Failed to set up status listener:",s)})}updateConnectionStatus(s){switch(s){case"connected":this.isConnected=!0,this.isConnecting=!1,this.reconnectAttempts=0,this.lastHeartbeat=Date.now();break;case"disconnected":this.isConnected=!1,this.isConnecting=!1;break;case"heartbeat_timeout":this.isConnected=!1,this.isConnecting=!1;break}this.emitStatus()}emitStatus(){const s={is_connected:this.isConnected,is_connecting:this.isConnecting,reconnect_attempts:this.reconnectAttempts,last_heartbeat:this.lastHeartbeat};this.statusHandlers.forEach(u=>u(s))}emit(s,u){const f=this.messageHandlers.get(s);f&&f.forEach(g=>g(u))}async connect(s){if(this.isConnected||this.isConnecting){console.log("WebSocket already connected or connecting");return}try{this.isConnecting=!0,this.emitStatus(),console.log("🔌 Connecting to WebSocket with Bearer token..."),console.log("🔑 Token (first 16 chars):",s.substring(0,16)+"..."),await re("connect_socket",{token:s}),Hs.setToken(s),console.log("✅ WebSocket connected successfully")}catch(u){throw console.error("❌ Failed to connect WebSocket:",u),this.isConnecting=!1,this.emitStatus(),u}}async disconnect(){try{await re("disconnect_socket"),this.isConnected=!1,this.isConnecting=!1,this.emitStatus(),console.log("🔌 WebSocket disconnected")}catch(s){console.error("❌ Failed to disconnect WebSocket:",s)}}async sendMessage(s){if(!this.isConnected)throw new Error("WebSocket not connected");try{const u=JSON.stringify(s);await re("send_socket_message",{message:u}),console.log("📤 Sent WebSocket message:",s)}catch(u){throw console.error("❌ Failed to send WebSocket message:",u),u}}async sendChatMessage(s,u){await this.sendMessage({type:"chat-message",chat_id:s,content:u,timestamp:new Date().toISOString()})}async sendTypingIndicator(s,u){await this.sendMessage({type:"typing",chat_id:s,is_typing:u})}async sendReadReceipt(s,u){await this.sendMessage({type:"read-receipt",chat_id:s,message_id:u})}async getStatus(){try{return await re("get_websocket_status")}catch(s){return console.error("❌ Failed to get WebSocket status:",s),{is_connected:!1,is_connecting:!1,reconnect_attempts:0,last_heartbeat:0}}}on(s,u){this.messageHandlers.has(s)||this.messageHandlers.set(s,[]),this.messageHandlers.get(s).push(u)}off(s,u){const f=this.messageHandlers.get(s);if(f){const g=f.indexOf(u);g>-1&&f.splice(g,1)}}onStatusChange(s){this.statusHandlers.push(s)}offStatusChange(s){const u=this.statusHandlers.indexOf(s);u>-1&&this.statusHandlers.splice(u,1)}isConnectedToServer(){return this.isConnected}getConnectionInfo(){return{isConnected:this.isConnected,isConnecting:this.isConnecting,reconnectAttempts:this.reconnectAttempts,lastHeartbeat:this.lastHeartbeat}}}const fn=new _f;class Ee{constructor(s){this.path=s}static async load(s){const u=await re("plugin:sql|load",{db:s});return new Ee(u)}static get(s){return new Ee(s)}async execute(s,u){const[f,g]=await re("plugin:sql|execute",{db:this.path,query:s,values:u??[]});return{lastInsertId:g,rowsAffected:f}}async select(s,u){return await re("plugin:sql|select",{db:this.path,query:s,values:u??[]})}async close(s){return await re("plugin:sql|close",{db:s})}}async function Ju(c){try{console.log("💾 Attempting to save user to database:",c.userId);const s=await Ee.load("sqlite:chat.db");console.log("✅ Database loaded successfully"),await s.execute(`
      INSERT OR REPLACE INTO user (
        user_id, username, email, name, password, picture,
        role, token_hash, verified, created_at, updated_at,
        deleted_at, is_dark_mode, last_seen
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `,[c.userId,c.username,c.email??"",c.name??"",c.password??"",c.picture??"",c.role??"",c.tokenHash??"",c.verified?1:0,c.createdAt??0,c.updatedAt??0,c.deletedAt??0,c.isDarkMode?1:0,c.lastSeen??0]),console.log("✅ User saved successfully")}catch(s){throw console.error("❌ Error saving user to database:",s),s}}async function Xu(){const s=await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM user LIMIT 1",[]);return s.length>0?s[0]:null}async function Ef(c,s){await(await Ee.load("sqlite:chat.db")).execute("UPDATE user SET token_hash = ? WHERE user_id = ?",[s,c])}async function Rf(){await(await Ee.load("sqlite:chat.db")).execute("DELETE FROM user",[])}async function Us(c){await(await Ee.load("sqlite:chat.db")).execute(`
    INSERT OR REPLACE INTO message (
      message_id, client_message_id, chat_id, sender_id, content,
      timestamp, is_read, is_sent, is_delivered, is_failed,
      sender_username, reply_to_message_id
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[c.messageId,c.clientMessageId,c.chatId,c.senderId,c.content,c.timestamp,c.isRead?1:0,c.isSent?1:0,c.isDelivered?1:0,c.isFailed?1:0,c.senderUsername??"",c.replyToMessageId??null])}async function zf(c){return await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM message WHERE chat_id = ? ORDER BY timestamp ASC",[c])}async function Tf(c){await(await Ee.load("sqlite:chat.db")).execute("UPDATE message SET is_read = 1 WHERE chat_id = ? AND is_read = 0",[c])}async function bf(c){return await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM message WHERE chat_id = ? AND is_read = 0",[c])}async function If(){await(await Ee.load("sqlite:chat.db")).execute("DELETE FROM message",[])}async function Mf(){await(await Ee.load("sqlite:chat.db")).execute("DELETE FROM chat",[])}async function Lf(){await(await Ee.load("sqlite:chat.db")).execute("DELETE FROM friend",[])}async function Pf(){await(await Ee.load("sqlite:chat.db")).execute("DELETE FROM participant",[])}async function Nf(){await Rf(),await If(),await Mf(),await Lf(),await Pf()}function Zu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const s=Math.random()*16|0;return(c==="x"?s:s&3|8).toString(16)})}class sc{messageFlow=null;constructor(){fn.on("message",s=>{this.handleIncomingMessage(s)})}setMessageFlow(s){this.messageFlow=s}getMessageFlow(){return this.messageFlow}async saveMessage(s,u,f,g){const w=Zu(),C=await this.resolveSenderUsername(f),b=Date.now(),D={messageId:void 0,clientMessageId:w,chatId:s,senderId:f,senderUsername:C,content:u,timestamp:b,isSent:!1,isDelivered:!1,isRead:!1,isFailed:!1};return console.log("[MessageService] INSERT LOCAL:",D),await Us(D),this.messageFlow&&this.messageFlow(D),w}async resolveSenderUsername(s){return"Me"}async handleIncomingMessage(s){if(console.log("[MessageService] INCOMING:",s),!(!s||s.length<5||!s.includes('"type"')))try{switch(JSON.parse(s).type){case"chat":await this.handleChatMessage(s);break;case"message-status":await this.handleMessageStatus(s);break;case"connection-status":this.handleConnectionStatus(s);break;case"error":this.handleErrorMessage(s);break;case"info":this.handleInfoMessage(s);break;case"request-notification":this.handleRequestNotification(s);break;case"chat-notification":await this.handleChatNotification(s);break;default:console.warn("[MessageService] Unknown type:",s)}}catch(u){console.error("[MessageService] Exception:",s,u)}}async handleChatMessage(s){const f=this.parseJson(s)?.message;if(!f)return;const g=Ws.decryptMessage(f.content,f.sender_id);if(!g)return;const w=!1,C=f.sender_username||await this.resolveSenderUsername(f.sender_id),b=(()=>{try{return new Date(f.sent_at).getTime()}catch{return Date.now()}})(),D={messageId:f.message_id,clientMessageId:f.message_id,chatId:f.chat_id,senderId:f.sender_id,senderUsername:C,content:g,timestamp:b,isSent:w,isDelivered:!1,isRead:!1,isFailed:!1};await this.insertAndEmit(D)}async handleChatNotification(s){const u=this.parseJson(s);if(!u)return;const f=u.message;switch(f.action){case"created":console.log("[MessageService] Chat created:",f.chat_id);break;case"deleted":console.log("[MessageService] Chat deleted:",f.chat_id);break}}async handleMessageStatus(s){const u=this.parseJson(s);if(!u)return;const f=u.message,g=f.client_message_id,w=f.message_id,C=f.message_ids||[],b=f.status,D=f.chat_id,q=f.sender_id;if(!D){console.warn("[MessageService] Missing chatId in status payload, skipping");return}if(!q){console.warn("[MessageService] Missing senderId in status payload, skipping");return}const Y=(()=>{try{return new Date(f.timestamp).getTime()}catch{return console.warn("[MessageService] Invalid timestamp format:",f.timestamp),null}})();if(console.log("[MessageService] STATUS:",`id=${w}, clientId=${g}, status=${b}, chatId=${D}, senderId=${q}, ts=${Y}`),b==="read"&&C.length>0){console.log("[MessageService] Bulk read status for",C.length,"messages"),await As.markMessagesAsReadByServerIds(C);return}if(!w){console.warn("[MessageService] Missing messageId in single status update, skipping");return}b==="sent"&&g&&await As.robustLinking(D,q,g,w,Y||void 0),await As.updateStatusByServerId(w,b)}handleRequestNotification(s){try{const u=this.parseJson(s);if(!u)return;switch(u.message.status){case"pending":console.log("[MessageService] Pending friend request");break;case"accepted":console.log("[MessageService] Friend request accepted");break}}catch(u){console.error("[MessageService] Failed to handle request-notification:",u)}}handleConnectionStatus(s){const u=this.parseJson(s);u&&console.log("[MessageService] WebSocket connected at:",u.message)}handleInfoMessage(s){const u=this.parseJson(s);u&&console.info("[MessageService] Info:",u.message)}handleErrorMessage(s){const u=this.parseJson(s);u&&console.error("[MessageService] WebSocket Error:",u.message)}async sendMessage(s,u,f){try{const g=u.client_message_id||Zu(),w=s==="chat"?this.prepareChatMessagePayload(u):u,C={type:s,message:w,client_message_id:g};console.log("[MessageService] OUTGOING:",C),await fn.sendMessage(C),f()}catch(g){console.error("[MessageService] Failed to send message",g)}}prepareChatMessagePayload(s){const u=s.message_text;if(!u)throw new Error("Missing message_text");return{chat_id:s.chat_id,content:Ws.encryptMessage(u)}}async markMessageAsSent(s){await re("mark_message_as_sent",{messageId:s})}async markMessageAsDelivered(s){await re("mark_message_as_delivered",{messageId:s})}async markMessageAsRead(s){await re("mark_message_as_read",{messageId:s})}async markAllMessagesAsRead(s){await Tf(s)}async getUnreadMessages(s){return await bf(s)}async fetchMessages(s,u=50){const f=await zf(s);return console.log(`[MessageService] Loaded ${f.length} messages from local database for chat ${s}`),f}async fetchOldMessages(s,u){return await re("fetch_old_messages",{chatId:s,beforeTimestamp:u})}async insertAndEmit(s){await Us(s),this.messageFlow&&this.messageFlow(s)}parseJson(s){try{return JSON.parse(s)}catch{return null}}}const Wo=new sc,lc=(c,s=50)=>Wo.fetchMessages(c,s),Df=c=>Wo.handleIncomingMessage(c),Ff=async c=>{await Us(c);const s=Wo.getMessageFlow();s&&s(c)},Of=async(c,s)=>{console.log(`Updating message ${c} status to ${s}`)},Af=async(c,s,u,f)=>{console.log(`Replacing local message ID ${u} with server ID ${f}`)},Wf=Object.freeze(Object.defineProperty({__proto__:null,MessageService:sc,fetchMessages:lc,handleIncomingWebSocketMessage:Df,insertMessage:Ff,messageService:Wo,replaceLocalMessageId:Af,updateMessageStatus:Of},Symbol.toStringTag,{value:"Module"}));async function Uf(c,s,u,f){await re("create_chat",{token:f,name:c,is_group:s,members:u})}const Bf=Object.freeze(Object.defineProperty({__proto__:null,createChat:Uf},Symbol.toStringTag,{value:"Module"}));async function $f(c){await(await Ee.load("sqlite:chat.db")).execute(`
    INSERT OR REPLACE INTO participant (
      participant_id, user_id, username, joined_at, role, chat_id
    ) VALUES (?, ?, ?, ?, ?, ?)
  `,[c.participantId,c.userId,c.username,c.joinedAt,c.role,c.chatId])}async function Hf(c){return await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM participant WHERE chat_id = ?",[c])}const qf=Object.freeze(Object.defineProperty({__proto__:null,fetchParticipants:Hf,insertParticipant:$f},Symbol.toStringTag,{value:"Module"}));async function Vf(c){await(await Ee.load("sqlite:chat.db")).execute(`
    INSERT OR REPLACE INTO user (
      user_id, username, email, name, password, picture,
      role, token_hash, verified, created_at, updated_at,
      deleted_at, is_dark_mode, last_seen
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[c.userId,c.username,c.email??"",c.name??"",c.password??"",c.picture??"",c.role??"",c.tokenHash??"",c.verified?1:0,c.createdAt??0,c.updatedAt??0,c.deletedAt??0,c.isDarkMode?1:0,c.lastSeen??0])}async function Qf(c){const u=await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM user WHERE user_id = ?",[c]);return u.length>0?u[0]:null}async function Kf(c){const u=await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM user WHERE token_hash = ? LIMIT 1",[c]);if(u.length===0)throw new Error("User not found");return u[0]}const Yf=Object.freeze(Object.defineProperty({__proto__:null,fetchUserById:Qf,getCurrentUser:Kf,insertOrUpdateUser:Vf},Symbol.toStringTag,{value:"Module"}));async function Gf(c){await(await Ee.load("sqlite:chat.db")).execute(`
    INSERT OR REPLACE INTO friend (
      friend_id, username, email, name, picture,
      created_at, updated_at, status, is_favorite
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[c.userId,c.username,c.email??"",c.name??"",c.picture??"",c.createdAt??0,c.updatedAt??0,c.role??"",c.isDarkMode?1:0])}async function Jf(){return await(await Ee.load("sqlite:chat.db")).select("SELECT * FROM friend ORDER BY name ASC",[])}const Xf=Object.freeze(Object.defineProperty({__proto__:null,fetchFriends:Jf,insertFriend:Gf},Symbol.toStringTag,{value:"Module"}));async function ac(c,s){return await re("login",{username:c,password:s})}async function Zf(c,s,u){return await re("register",{name:c,email:s,password:u})}async function ep(c){await re("logout",{token:c})}async function tp(c){return await re("refresh_token",{refreshToken:c})}async function np(c){return await re("verify_token",{token:c})}async function rp(c){await re("invalidate_token",{token:c})}const op=Object.freeze(Object.defineProperty({__proto__:null,invalidateToken:rp,login:ac,logout:ep,refreshToken:tp,register:Zf,verifyToken:np},Symbol.toStringTag,{value:"Module"}));async function ip(c,s){await re("send_friend_request",{token:c,userId:s})}const sp=Object.freeze(Object.defineProperty({__proto__:null,sendFriendRequest:ip},Symbol.toStringTag,{value:"Module"}));async function lp(c,s){await(await Ee.load("sqlite:chat.db")).execute("UPDATE user SET is_dark_mode = ? WHERE user_id = ?",[s?1:0,c])}async function ap(c){const u=await(await Ee.load("sqlite:chat.db")).select("SELECT is_dark_mode FROM user WHERE user_id = ?",[c]);return u.length>0?u[0].is_dark_mode===1:!1}const up=Object.freeze(Object.defineProperty({__proto__:null,getDarkMode:ap,updateDarkMode:lp},Symbol.toStringTag,{value:"Module"}));var ec;(function(c){c.Year="year",c.Month="month",c.TwoWeeks="twoWeeks",c.Week="week",c.Day="day",c.Hour="hour",c.Minute="minute",c.Second="second"})(ec||(ec={}));var tc;(function(c){c[c.None=0]="None",c[c.Min=1]="Min",c[c.Low=2]="Low",c[c.Default=3]="Default",c[c.High=4]="High"})(tc||(tc={}));var nc;(function(c){c[c.Secret=-1]="Secret",c[c.Private=0]="Private",c[c.Public=1]="Public"})(nc||(nc={}));function cp(c){typeof c=="string"?new window.Notification(c):new window.Notification(c.title,c)}async function dp(c,s){await cp({title:c,body:s})}const fp=Object.freeze(Object.defineProperty({__proto__:null,notify:dp},Symbol.toStringTag,{value:"Module"}));class pp{cachedToken=null;ACCESS_TOKEN_KEY="accessToken";USERNAME_KEY="username";PASSWORD_KEY="password";constructor(){this.loadCachedToken()}async loadCachedToken(){try{this.cachedToken=await this.getStoredToken()}catch(s){console.error("Failed to load cached token:",s)}}getCachedAccessToken(){return this.cachedToken}async getAccessToken(){if(this.cachedToken)return this.cachedToken;const s=await this.getStoredToken();return s&&(this.cachedToken=s),s}async updateAccessToken(s){await this.getStoredToken()!==s&&(await this.saveToken(s),this.cachedToken=s,this.logTokenExpiry(s))}async clearAccessToken(){await this.removeToken(),this.cachedToken=null}async updateCredentials(s,u){s&&await re("save_token",{key:this.USERNAME_KEY,value:s}),u&&await re("save_token",{key:this.PASSWORD_KEY,value:u})}async getStoredCredentials(){try{const s=await re("load_token",{key:this.USERNAME_KEY}),u=await re("load_token",{key:this.PASSWORD_KEY});return{username:s,password:u}}catch(s){return console.error("Failed to get stored credentials:",s),{username:null,password:null}}}async clearCredentials(){try{await re("remove_token",{key:this.USERNAME_KEY}),await re("remove_token",{key:this.PASSWORD_KEY})}catch(s){console.error("Failed to clear credentials:",s)}}isTokenExpired(s){try{const u=s.split(".");if(u.length!==3)return!0;const f=this.decodeBase64URL(u[1]);if(!f)return!0;const w=JSON.parse(new TextDecoder().decode(f)).exp||0,C=w<=0||new Date(w*1e3)<new Date;return console.log("TokenManager: Decoded token exp=",w,"vs now=",Math.floor(Date.now()/1e3)),C}catch(u){return console.error("Failed to check token expiry:",u),!0}}async ensureValidAccessToken(){const s=await this.getAccessToken();if(!s||this.isTokenExpired(s))throw new Error("Access token is missing or expired");return s}getExpirationTime(s){try{const u=s.split(".");if(u.length!==3)return 0;const f=this.decodeBase64URL(u[1]);return f&&JSON.parse(new TextDecoder().decode(f)).exp||0}catch(u){return console.error("Failed to get token expiration time:",u),0}}logTokenExpiry(s){try{const u=s.split(".");if(u.length!==3)return;const f=this.decodeBase64URL(u[1]);if(!f)return;const w=JSON.parse(new TextDecoder().decode(f)).exp||0,C=Math.floor(Date.now()/1e3),b=w-C;console.log("TokenManager: Token expires in",b,"seconds (exp=",w,", now=",C,")")}catch(u){console.error("Failed to log token expiry:",u)}}decodeBase64URL(s){try{let u=s.replace(/-/g,"+").replace(/_/g,"/");for(;u.length%4!==0;)u+="=";const f=atob(u),g=new Uint8Array(f.length);for(let w=0;w<f.length;w++)g[w]=f.charCodeAt(w);return g}catch(u){return console.error("Failed to decode base64 URL:",u),null}}async saveToken(s){try{await re("save_token",{key:this.ACCESS_TOKEN_KEY,value:s})}catch(u){throw console.error("Failed to save token:",u),u}}async getStoredToken(){try{return await re("load_token",{key:this.ACCESS_TOKEN_KEY})}catch(s){return console.error("Failed to load token:",s),null}}async removeToken(){try{await re("remove_token",{key:this.ACCESS_TOKEN_KEY})}catch(s){console.error("Failed to remove token:",s)}}}const ot=new pp;class hp{token=null;setToken(s){this.token=s}clearToken(){this.token=null}async makeRequest(s,u=[]){if(!this.token)throw new Error("No token available");try{return await re(s,{token:this.token,...u})}catch(f){throw console.error(`❌ Native API ${s} failed:`,f),f}}async getCurrentUser(){return console.log("👤 Getting current user via native API..."),this.makeRequest("get_current_user")}async getFriends(){return console.log("👥 Getting friends via native API..."),this.makeRequest("get_friends")}async getChats(){return console.log("💬 Getting chats via native API..."),this.makeRequest("get_chats")}async getMessages(s){return console.log(`📨 Getting messages for chat ${s} via native API...`),this.makeRequest("get_messages",[s])}async sendMessage(s,u,f){return console.log(`📤 Sending message to chat ${u} via native API...`),this.makeRequest("send_message",[s,u,f])}}const Ao=new hp;class gp{isLoggedIn=!1;isSessionInitialized=!1;currentUser=null;isDarkModeEnabled=!1;tokenWatchdogInterval=null;stateListeners=[];constructor(){this.startTokenWatchdog()}getState(){return{isLoggedIn:this.isLoggedIn,isSessionInitialized:this.isSessionInitialized,currentUser:this.currentUser,isDarkModeEnabled:this.isDarkModeEnabled}}onStateChange(s){return this.stateListeners.push(s),()=>{const u=this.stateListeners.indexOf(s);u>-1&&this.stateListeners.splice(u,1)}}emitStateChange(){const s=this.getState();this.stateListeners.forEach(u=>u(s))}async initializeSession(){try{console.log("🔐 Initializing session...");const s=await Xu();this.currentUser=s;const u=s?.tokenHash;u&&!ot.isTokenExpired(u)?await this.updateTokenAndState(u,s):await this.attemptSilentRelogin(),this.isSessionInitialized=!0,this.emitStateChange(),await this.postLoginInitialization()}catch(s){console.error("❌ Session initialization failed:",s),this.isSessionInitialized=!0,this.emitStateChange()}}async attemptSilentRelogin(){try{const s=await ot.getStoredCredentials();if(s.username&&s.password){console.log("🔄 Attempting silent relogin...");const u=await Hs.signIn({username:s.username,password:s.password});u.access_token?await this.handleSuccessfulLogin(u.access_token,s.username,s.password):await this.logOut()}else await this.logOut()}catch(s){console.error("❌ Silent relogin failed:",s),await this.logOut()}}async logIn(){const s=await Xu();s&&s.tokenHash?await this.updateTokenAndState(s.tokenHash,s):await this.logOut()}async logOut(){console.log("🚪 Logging out..."),this.isLoggedIn=!1,this.currentUser=null,this.isDarkModeEnabled=!1,await ot.clearAccessToken(),await ot.clearCredentials(),await Nf(),Ao.clearToken(),fn.disconnect(),this.emitStateChange(),console.log("✅ Logout complete")}async handleSuccessfulLogin(s,u,f){try{console.log("🔐 Handling successful login with token:",s.substring(0,20)+"..."),await ot.updateCredentials(u,f),Ao.setToken(s),console.log("👤 Fetching user data from native API..."),console.log("🔑 Token being used:",s.substring(0,20)+"...");let g;try{g=await Ao.getCurrentUser(),console.log("✅ User data received:",g)}catch(C){throw console.error("❌ Native API Error when fetching user data:",C),C}const w={id:g.user_id||"",userId:g.user_id||"",username:g.username,name:g.name,email:g.email,verified:g.verified,isDarkMode:!1,avatarUrl:g.picture,lastLogin:new Date,lastSeen:Date.now()};console.log("💾 Saving user to local database..."),await Ju(w),await Ef(w.userId,s),await this.updateTokenAndState(s,w)}catch(g){throw console.error("❌ Failed to handle successful login:",g),g}}async updateTokenAndState(s,u){if(!s||!u){await this.logOut();return}await ot.updateAccessToken(s),Ao.setToken(s),this.isLoggedIn=!0,this.currentUser=u,this.isDarkModeEnabled=u.isDarkMode||!1,this.emitStateChange();try{await fn.connect(s)}catch(f){console.error("❌ Failed to connect WebSocket:",f)}}async postLoginInitialization(){try{const s=await ot.getAccessToken();if(!s||ot.isTokenExpired(s)){console.log("⚠️ Token missing or expired, skipping API syncs");return}console.log("🔄 Starting post-login initialization..."),console.log("✅ Post-login initialization complete")}catch(s){console.error("❌ Post-login initialization failed:",s)}}startTokenWatchdog(){this.tokenWatchdogInterval||(this.tokenWatchdogInterval=window.setInterval(async()=>{try{const s=ot.getCachedAccessToken();if(s){const u=ot.getExpirationTime(s),f=Math.floor(Date.now()/1e3),g=u-f;if(console.log("🔍 TokenWatchdog: Token expires in",g,"seconds"),g<300){console.warn("⚠️ TokenWatchdog: Token expires soon, attempting silent relogin..."),await this.attemptSilentRelogin();const w=ot.getCachedAccessToken();!w||ot.isTokenExpired(w)?(console.error("❌ TokenWatchdog: Silent relogin failed! Logging out..."),await this.logOut()):console.log("✅ TokenWatchdog: Silent relogin successful, new token refreshed")}}}catch(s){console.error("❌ TokenWatchdog error:",s)}},6e4))}stopTokenWatchdog(){this.tokenWatchdogInterval&&(clearInterval(this.tokenWatchdogInterval),this.tokenWatchdogInterval=null)}getCurrentUsername(){return this.currentUser?.username||"Unknown"}getCurrentUserId(){return this.currentUser?.userId||null}async toggleDarkMode(){if(this.isDarkModeEnabled=!this.isDarkModeEnabled,this.currentUser){const s={...this.currentUser,isDarkMode:this.isDarkModeEnabled};await Ju(s),this.currentUser=s}this.emitStateChange()}destroy(){this.stopTokenWatchdog(),this.stateListeners=[]}}const An=new gp,uc=P.createContext(void 0),mp=({children:c})=>{const[s,u]=P.useState(null),[f,g]=P.useState(null),[w,C]=P.useState(!0),[b,D]=P.useState(navigator.onLine),[q,Y]=P.useState(null),[B,F]=P.useState(An.getState()),[te,Z]=P.useState({is_connected:!1,is_connecting:!1,reconnect_attempts:0,last_heartbeat:0}),K=P.useCallback(async(T,k)=>{try{C(!0),Y(null),console.log("🔐 Attempting login...");const O=await ac(T,k);if(O.access_token)await An.handleSuccessfulLogin(O.access_token,T,k),console.log("✅ Login successful");else throw new Error("Login failed: No access token received")}catch(O){throw console.error("❌ Login failed:",O),Y("Login failed: "+(O instanceof Error?O.message:"Unknown error")),O}finally{C(!1)}},[]),S=P.useCallback(async()=>{try{await An.logOut(),u(null),g(null),Y(null)}catch(T){console.error("❌ Logout error:",T),Y("Logout failed. Please try again.")}},[]),V=P.useCallback(()=>Y(null),[]);P.useEffect(()=>{const T=k=>{Z(k),console.log("🔌 WebSocket status changed:",k)};return fn.onStatusChange(T),()=>{fn.offStatusChange(T)}},[]),P.useEffect(()=>An.onStateChange(k=>{F(k),u(k.currentUser),g(k.currentUser?.tokenHash||null),C(!k.isSessionInitialized)}),[]),P.useEffect(()=>{(async()=>{try{console.log("🚀 Initializing application..."),C(!0),await An.initializeSession(),console.log("✅ Application initialized")}catch(k){console.error("❌ Application initialization failed:",k),Y("Failed to initialize application: "+(k instanceof Error?k.message:"Unknown error"))}finally{C(!1)}})()},[]),P.useEffect(()=>{const T=()=>D(navigator.onLine);return window.addEventListener("online",T),window.addEventListener("offline",T),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",T)}},[]);const oe={user:s,token:f,isLoading:w,isOnline:b,error:q,websocketStatus:te,sessionState:B,login:K,logout:S,clearError:V,services:{tokenManager:ot,sessionManager:An,messageService:Wf,chatService:Bf,participantService:qf,userService:Yf,friendService:Xf,authService:op,chatRequestService:sp,settingsService:up,notificationsService:fp,apiService:Hs,websocketService:fn}};return l.jsx(uc.Provider,{value:oe,children:c})},Jt=()=>{const c=P.useContext(uc);if(!c)throw new Error("useAppContext must be used inside AppProvider");return c},rc={background:"#f5f5f0",surface:"#fafaf8",text:"#1f2937",textSecondary:"#6b7280",border:"#d1d5db",primary:"#3b82f6",primaryHover:"#2563eb",accent:"#8b5cf6",error:"#dc2626",errorBackground:"#fef2f2",success:"#10b981",warning:"#f59e0b",selected:"#e0e7ff",hover:"#f3f4f6"},oc={background:"#2a2a2a",surface:"#3a3a3a",text:"#e5e7eb",textSecondary:"#9ca3af",border:"#4a4a4a",primary:"#3b82f6",primaryHover:"#2563eb",accent:"#8b5cf6",error:"#ef4444",errorBackground:"#3a2323",success:"#22c55e",warning:"#eab308",selected:"#232e47",hover:"#353a4a"},cc=P.createContext(void 0),yp=({children:c})=>{const[s,u]=P.useState(!1);P.useEffect(()=>{const w=localStorage.getItem("theme-preference");if(w==="dark")u(!0);else if(w==="light")u(!1);else{const C=window.matchMedia("(prefers-color-scheme: dark)").matches;u(C)}},[]),P.useEffect(()=>{const w=s?oc:rc;document.documentElement.style.setProperty("--bg-color",w.background),document.documentElement.style.setProperty("--surface-color",w.surface),document.documentElement.style.setProperty("--text-color",w.text),document.documentElement.style.setProperty("--text-secondary-color",w.textSecondary),document.documentElement.style.setProperty("--border-color",w.border),document.documentElement.style.setProperty("--primary-color",w.primary),document.documentElement.style.setProperty("--primary-hover-color",w.primaryHover),document.body.style.backgroundColor=w.background,document.body.style.color=w.text;const C=document.querySelector('meta[name="theme-color"]');C&&C.setAttribute("content",w.surface)},[s]);const f=()=>{const w=!s;u(w),localStorage.setItem("theme-preference",w?"dark":"light"),console.log(`🎨 Theme switched to ${w?"dark":"light"} mode`)},g=s?oc:rc;return l.jsx(cc.Provider,{value:{isDarkMode:s,toggleTheme:f,theme:g},children:c})},Er=()=>{const c=P.useContext(cc);if(!c)throw new Error("useTheme must be used within a ThemeProvider");return c},pn=()=>{const{theme:c}=Er();return{background:{backgroundColor:c.background},surface:{backgroundColor:c.surface},text:{color:c.text},textSecondary:{color:c.textSecondary},border:{borderColor:c.border},borderTop:{borderTopColor:c.border},borderBottom:{borderBottomColor:c.border},borderLeft:{borderLeftColor:c.border},borderRight:{borderRightColor:c.border},primaryButton:{backgroundColor:c.primary,color:"white",border:"none"},secondaryButton:{backgroundColor:c.surface,color:c.text,border:`1px solid ${c.border}`},input:{backgroundColor:c.surface,color:c.text,borderColor:c.border},card:{backgroundColor:c.surface,borderColor:c.border,color:c.text},header:{backgroundColor:c.surface,borderBottomColor:c.border,color:c.text},theme:c}},dc="/assets/logo-BfxHs9lc.png",xp=({onSuccess:c,onShowRegister:s})=>{const{login:u,clearError:f}=Jt(),g=pn(),{isDarkMode:w,toggleTheme:C}=Er(),[b,D]=P.useState(""),[q,Y]=P.useState(""),[B,F]=P.useState(""),[te,Z]=P.useState(!1),K=async S=>{S.preventDefault(),Z(!0),F(""),f();try{await u(b,q),c()}catch(V){console.error("Login failed:",V),F(V instanceof Error?V.message:"Login failed. Please check your credentials and try again.")}finally{Z(!1)}};return l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",...g.background,padding:"2rem"},children:l.jsxs("div",{style:{padding:"3rem",maxWidth:"440px",width:"100%",borderRadius:"16px",...g.surface,border:`1px solid ${g.theme.border}`},children:[l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"1rem"},children:l.jsx("button",{onClick:C,style:{width:"48px",height:"48px",borderRadius:"12px",border:`2px solid ${g.theme.border}`,backgroundColor:g.theme.surface,color:g.theme.text,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"20px",transition:"all 0.2s ease"},title:`Switch to ${w?"light":"dark"} mode`,onMouseEnter:S=>{S.target.style.borderColor=g.theme.primary,S.target.style.backgroundColor=w?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.05)"},onMouseLeave:S=>{S.target.style.borderColor=g.theme.border,S.target.style.backgroundColor=g.theme.surface},children:w?"☀️":"🌙"})}),l.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:l.jsx("img",{src:dc,alt:"Terracrypt Chat",style:{width:"120px",height:"90px",filter:w?"brightness(1.2)":"brightness(0.9)"}})}),l.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem",fontSize:"28px",fontWeight:"300",letterSpacing:"-0.5px",...g.text},children:"Welcome to Terracrypt"}),l.jsxs("form",{onSubmit:K,children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{htmlFor:"username",style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",...g.text},children:"Username"}),l.jsx("input",{id:"username",type:"text",placeholder:"Enter your username",value:b,onChange:S=>D(S.target.value),style:{width:"100%",padding:"16px 18px",border:`2px solid ${g.theme.border}`,borderRadius:"12px",backgroundColor:g.theme.surface,color:g.theme.text,outline:"none",fontSize:"16px",fontWeight:"400",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:S=>S.target.style.borderColor=g.theme.primary,onBlur:S=>S.target.style.borderColor=g.theme.border})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",...g.text},children:"Password"}),l.jsx("input",{id:"password",type:"password",placeholder:"Enter your password",value:q,onChange:S=>Y(S.target.value),style:{width:"100%",padding:"16px 18px",border:`2px solid ${g.theme.border}`,borderRadius:"12px",backgroundColor:g.theme.surface,color:g.theme.text,outline:"none",fontSize:"16px",fontWeight:"400",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:S=>S.target.style.borderColor=g.theme.primary,onBlur:S=>S.target.style.borderColor=g.theme.border})]}),B&&l.jsx("div",{style:{color:g.theme.error,marginBottom:"24px",padding:"16px",backgroundColor:w?"rgba(239, 68, 68, 0.1)":"rgba(220, 38, 38, 0.1)",borderRadius:"12px",border:`1px solid ${g.theme.error}`,fontSize:"14px",fontWeight:"500"},children:B}),l.jsx("button",{type:"submit",disabled:te,style:{width:"100%",padding:"18px",backgroundColor:te?g.theme.textSecondary:g.theme.primary,color:"white",border:"none",borderRadius:"12px",cursor:te?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",marginTop:"8px",marginBottom:"24px",transition:"background-color 0.2s ease",letterSpacing:"0.5px"},onMouseEnter:S=>!te&&(S.target.style.backgroundColor=g.theme.primaryHover),onMouseLeave:S=>!te&&(S.target.style.backgroundColor=g.theme.primary),children:te?"Signing in...":"Sign In"}),l.jsx("button",{type:"button",onClick:s,style:{width:"100%",padding:"16px",backgroundColor:"transparent",color:g.theme.primary,border:`2px solid ${g.theme.border}`,borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:S=>{S.target.style.backgroundColor=w?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.05)",S.target.style.borderColor=g.theme.primary},onMouseLeave:S=>{S.target.style.backgroundColor="transparent",S.target.style.borderColor=g.theme.border},children:"Don't have an account? Sign up"})]})]})})},vp=({onSuccess:c,onBackToLogin:s})=>{const{services:u}=Jt(),f=pn(),{isDarkMode:g}=Er(),[w,C]=P.useState(""),[b,D]=P.useState(""),[q,Y]=P.useState(""),[B,F]=P.useState(""),[te,Z]=P.useState(""),[K,S]=P.useState(!1),V=T=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T),oe=async T=>{if(T.preventDefault(),S(!0),Z(""),!w.trim()){Z("Username is required."),S(!1);return}if(!b){Z("Password is required."),S(!1);return}if(!q){Z("Repeat password is required."),S(!1);return}if(b!==q){Z("Passwords do not match."),S(!1);return}if(!V(B)){Z("Invalid email format."),S(!1);return}try{const k=await u.authService.register(w,B,b);console.log("Registration successful:",k.access_token),c()}catch(k){console.error("Registration failed:",k),Z(k instanceof Error?k.message:"Registration failed. Please try again.")}finally{S(!1)}};return l.jsxs("div",{style:{padding:"3rem",maxWidth:"440px",margin:"auto",borderRadius:"16px",...f.surface,border:`1px solid ${f.theme.border}`},children:[l.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:l.jsx("img",{src:dc,alt:"Terracrypt Chat",style:{width:"120px",height:"90px",filter:g?"brightness(1.2)":"brightness(0.9)"}})}),l.jsx("h2",{style:{textAlign:"center",marginBottom:"2rem",fontSize:"28px",fontWeight:"300",letterSpacing:"-0.5px",...f.text},children:"Join Terracrypt"}),l.jsxs("form",{onSubmit:oe,children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{htmlFor:"username",style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",...f.text},children:"Username *"}),l.jsx("input",{id:"username",type:"text",placeholder:"Enter your username",value:w,onChange:T=>C(T.target.value),style:{width:"100%",padding:"16px 18px",border:`2px solid ${f.theme.border}`,borderRadius:"12px",backgroundColor:f.theme.surface,color:f.theme.text,outline:"none",fontSize:"16px",fontWeight:"400",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:T=>T.target.style.borderColor=f.theme.primary,onBlur:T=>T.target.style.borderColor=f.theme.border})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",...f.text},children:"Password *"}),l.jsx("input",{id:"password",type:"password",placeholder:"Enter your password",value:b,onChange:T=>D(T.target.value),style:{width:"100%",padding:"16px 18px",border:`2px solid ${f.theme.border}`,borderRadius:"12px",backgroundColor:f.theme.surface,color:f.theme.text,outline:"none",fontSize:"16px",fontWeight:"400",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:T=>T.target.style.borderColor=f.theme.primary,onBlur:T=>T.target.style.borderColor=f.theme.border})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{htmlFor:"repeatPassword",style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",...f.text},children:"Repeat Password *"}),l.jsx("input",{id:"repeatPassword",type:"password",placeholder:"Repeat your password",value:q,onChange:T=>Y(T.target.value),style:{width:"100%",padding:"16px 18px",border:`2px solid ${q&&q!==b?f.theme.error:f.theme.border}`,borderRadius:"12px",backgroundColor:f.theme.surface,color:f.theme.text,outline:"none",fontSize:"16px",fontWeight:"400",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:T=>T.target.style.borderColor=f.theme.primary,onBlur:T=>T.target.style.borderColor=q&&q!==b?f.theme.error:f.theme.border}),q&&q!==b&&l.jsx("div",{style:{color:f.theme.error,fontSize:"14px",marginTop:"8px",fontWeight:"500"},children:"Passwords do not match"})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500",...f.text},children:"Email *"}),l.jsx("input",{id:"email",type:"email",placeholder:"Enter your email",value:B,onChange:T=>F(T.target.value),style:{width:"100%",padding:"16px 18px",border:`2px solid ${B&&!V(B)?f.theme.error:f.theme.border}`,borderRadius:"12px",backgroundColor:f.theme.surface,color:f.theme.text,outline:"none",fontSize:"16px",fontWeight:"400",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:T=>T.target.style.borderColor=f.theme.primary,onBlur:T=>T.target.style.borderColor=B&&!V(B)?f.theme.error:f.theme.border}),B&&!V(B)&&l.jsx("div",{style:{color:f.theme.error,fontSize:"14px",marginTop:"8px",fontWeight:"500"},children:"Invalid email format"})]}),l.jsx("div",{style:{marginBottom:"24px",textAlign:"center"},children:l.jsx("a",{href:"https://terracrypt.cc/tos.html",target:"_blank",rel:"noopener noreferrer",style:{color:f.theme.primary,textDecoration:"none",fontSize:"14px",fontWeight:"500"},children:"Terms of Service"})}),te&&l.jsx("div",{style:{color:f.theme.error,marginBottom:"24px",padding:"16px",backgroundColor:g?"rgba(239, 68, 68, 0.1)":"rgba(220, 38, 38, 0.1)",borderRadius:"12px",border:`1px solid ${f.theme.error}`,fontSize:"14px",fontWeight:"500"},children:te}),l.jsx("button",{type:"submit",disabled:K||!w||!b||!q||!B||b!==q||!V(B),style:{width:"100%",padding:"18px",backgroundColor:K?f.theme.textSecondary:f.theme.primary,color:"white",border:"none",borderRadius:"12px",cursor:K?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",marginTop:"8px",marginBottom:"24px",transition:"background-color 0.2s ease",letterSpacing:"0.5px"},onMouseEnter:T=>!K&&(T.target.style.backgroundColor=f.theme.primaryHover),onMouseLeave:T=>!K&&(T.target.style.backgroundColor=f.theme.primary),children:K?"Creating Account...":"Create Account"}),l.jsx("button",{type:"button",onClick:s,style:{width:"100%",padding:"16px",backgroundColor:"transparent",color:f.theme.primary,border:`2px solid ${f.theme.border}`,borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:T=>{T.target.style.backgroundColor=g?"rgba(59, 130, 246, 0.1)":"rgba(59, 130, 246, 0.05)",T.target.style.borderColor=f.theme.primary},onMouseLeave:T=>{T.target.style.backgroundColor="transparent",T.target.style.borderColor=f.theme.border},children:"Already have an account? Sign In"})]})]})},Bs=({username:c,name:s,size:u="medium",className:f="",style:g={}})=>{const{isDarkMode:w}=Er(),C=(F,te)=>{const S=(te||F).trim().replace(/[^A-Za-z\s]/g,"").toUpperCase().split(/\s+/).filter(V=>V.length>0);return S.length>=2?S[0][0]+S[1][0]:S.length===1?S[0].slice(0,2):F.slice(0,2).toUpperCase()},b=F=>{const K=w?["#1C1C1C","#2C2C2C","#3C3C3C","#4C4C4C","#5C5C5C"]:["#E3F2FD","#FFF9C4","#FFE0B2","#DCEDC8","#D1C4E9"],V=Math.abs(F.split("").reduce((oe,T)=>oe+T.charCodeAt(0),0))%K.length;return K[V]},D=F=>{switch(F){case"small":return{width:"32px",height:"32px",fontSize:"12px",borderRadius:"6px"};case"large":return{width:"64px",height:"64px",fontSize:"20px",borderRadius:"12px"};default:return{width:"48px",height:"48px",fontSize:"16px",borderRadius:"10px"}}},q=C(c,s),Y=b(c),B=D(u);return l.jsx("div",{className:f,style:{...B,backgroundColor:Y,color:w?"#FFFFFF":"#1F2937",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",userSelect:"none",flexShrink:0,...g},children:q})},wp=({chatId:c,onBack:s})=>{const{token:u,user:f,services:g,websocketStatus:w}=Jt(),[C,b]=P.useState(null),[D,q]=P.useState([]),[Y,B]=P.useState([]),[F,te]=P.useState(""),[Z,K]=P.useState(!0),[S,V]=P.useState(null),[oe,T]=P.useState(!1),k=P.useRef(null),O=P.useRef(),L=pn();P.useEffect(()=>{(async()=>{if(!(!c||!u))try{K(!0),V(null),console.log("📂 Loading chat data for:",c);const ae=await fetch(`https://dev.v1.terracrypt.cc/api/v1/chats/${c}/members`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!ae.ok)throw new Error(`Failed to load chat members: ${ae.status} ${ae.statusText}`);const I=await ae.json();console.log("✅ Chat members loaded:",I),q(I.data||[]);const ee=I.data?.find(Q=>Q.user.user_id!==f?.userId),ie=I.data?.length>2,ne=ie?`Group Chat (${I.data?.length} members)`:ee?.user.name||ee?.user.username||"Unknown";b({chat_id:c,name:ne,is_group:ie,created_at:new Date().toISOString(),creator_id:f?.userId||""});const M=await lc(c);B(M)}catch(ae){console.error("❌ Failed to load chat data:",ae),V(ae instanceof Error?ae.message:"Failed to load chat data")}finally{K(!1)}})()},[c,u,f?.userId]),P.useEffect(()=>{ce()},[Y]),P.useEffect(()=>{const de=ae=>{ae.chatId===c&&B(I=>[...I,ae])};return g.websocketService.on("chat-message",de),()=>{g.websocketService.off("chat-message",de)}},[c,g.websocketService]);const ce=()=>{k.current?.scrollIntoView({behavior:"smooth"})},me=()=>{oe||(T(!0),g.websocketService.sendTypingIndicator(c,!0)),O.current&&clearTimeout(O.current),O.current=window.setTimeout(()=>{T(!1),g.websocketService.sendTypingIndicator(c,!1)},2e3)},Ce=async()=>{if(!F.trim()||!c||!f)return;const de=F.trim();te("");const ae=Ws.encryptMessage(de);if(!ae){console.error("Failed to encrypt message");return}const I=`local_${Date.now()}_${Math.random()}`,ee=Date.now(),ie={messageId:I,clientMessageId:I,chatId:c,senderId:f.userId,content:de,timestamp:ee,isRead:!0,isSent:!1,isDelivered:!1,isFailed:!1,senderUsername:f.username};B(ne=>[...ne,ie]);try{await g.websocketService.sendChatMessage(c,ae),B(ne=>ne.map(M=>M.messageId===I?{...M,isSent:!0}:M))}catch(ne){console.error("Failed to send message:",ne),B(M=>M.map(Q=>Q.messageId===I?{...Q,isSent:!1}:Q))}},We=de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),Ce())},dt=de=>{const ae=D.find(I=>I.user.user_id===de);return ae?.user.name||ae?.user.username||"Unknown"};return Z?l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:L.theme.background},children:[l.jsx("div",{style:{padding:"16px 24px",borderBottom:`1px solid ${L.theme.border}`,backgroundColor:L.theme.surface},children:l.jsx("div",{style:{height:"20px",backgroundColor:L.theme.border,borderRadius:"4px",width:"200px"}})}),l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{display:"inline-block",width:"32px",height:"32px",border:`2px solid ${L.theme.border}`,borderTop:`2px solid ${L.theme.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),l.jsx("p",{style:{color:L.theme.textSecondary},children:"Loading chat..."})]})})]}):S?l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:L.theme.background},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"400px",padding:"24px"},children:[l.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:L.theme.errorBackground,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:l.jsx("span",{style:{color:L.theme.error,fontSize:"24px"},children:"⚠"})}),l.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:L.theme.text},children:"Failed to load chat data"}),l.jsx("p",{style:{color:L.theme.textSecondary,marginBottom:"16px"},children:S}),l.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:L.theme.primary,color:"white",fontWeight:"500",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Retry"})]})}):C?l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:L.theme.background},children:[l.jsx("div",{style:{padding:"16px 24px",borderBottom:`1px solid ${L.theme.border}`,backgroundColor:L.theme.surface,display:"flex",alignItems:"center",justifyContent:"space-between"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s&&l.jsx("button",{onClick:s,style:{width:"32px",height:"32px",borderRadius:"50%",border:"none",backgroundColor:L.theme.border,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px",color:L.theme.textSecondary},children:"←"}),l.jsx(Bs,{username:C.name||"CH",size:"medium",style:{marginRight:"12px"}}),l.jsxs("div",{children:[l.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:L.theme.text},children:C.name}),l.jsxs("p",{style:{fontSize:"14px",color:L.theme.textSecondary},children:[C.is_group?`${D.length} members`:"Direct message",w.is_connected&&l.jsx("span",{style:{marginLeft:"8px",color:L.theme.success},children:"• Online"})]})]})]})}),l.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 24px",display:"flex",flexDirection:"column",gap:"8px"},children:[Y.length===0?l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("p",{style:{color:L.theme.textSecondary,textAlign:"center"},children:"No messages yet. Start the conversation!"})}):Y.map(de=>{const ae=de.senderId===f?.userId,I=ae;return l.jsx("div",{style:{display:"flex",justifyContent:ae?"flex-end":"flex-start",marginBottom:"8px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end",marginBottom:"8px"},children:[l.jsx(Bs,{username:dt(de.senderId),size:"small",style:{marginRight:"8px"}}),l.jsx("div",{style:{backgroundColor:I?L.theme.primary:L.theme.surface,color:I?"white":L.theme.text,borderRadius:"12px",padding:"10px 14px",fontSize:"14px",maxWidth:"70%",wordBreak:"break-word",boxShadow:"none",border:`1px solid ${L.theme.border}`},children:de.content})]})},de.messageId)}),l.jsx("div",{ref:k})]}),l.jsx("div",{style:{padding:"16px 24px",borderTop:`1px solid ${L.theme.border}`,backgroundColor:L.theme.surface},children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"12px"},children:[l.jsx("textarea",{value:F,onChange:de=>{te(de.target.value),me()},onKeyPress:We,placeholder:"Type a message...",style:{flex:1,padding:"12px 16px",backgroundColor:L.theme.surface,border:"none",borderRadius:"20px",fontSize:"14px",color:L.theme.text,resize:"none",outline:"none",minHeight:"44px",maxHeight:"120px"},rows:1}),l.jsx("button",{onClick:Ce,disabled:!F.trim(),style:{width:"44px",height:"44px",backgroundColor:F.trim()?L.theme.primary:L.theme.border,color:"white",border:"none",borderRadius:"50%",cursor:F.trim()?"pointer":"default",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},children:"📤"})]})})]}):null},ic=({onSelect:c})=>{const{token:s,user:u,websocketStatus:f}=Jt(),g=pn(),[w,C]=P.useState([]),[b,D]=P.useState(!0),[q,Y]=P.useState(null),[B,F]=P.useState(null);P.useEffect(()=>{(async()=>{if(!s){C([]),D(!1);return}try{D(!0),Y(null),console.log("📂 Loading chats...");const V=await fetch("https://dev.v1.terracrypt.cc/api/v1/chats",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error(`HTTP ${V.status}: ${V.statusText}`);const oe=await V.json();console.log("✅ Chats loaded:",oe);const T=await Promise.all((oe.data||[]).map(async k=>{try{const O=await fetch(`https://dev.v1.terracrypt.cc/api/v1/chats/${k.chat_id}/members`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(O.ok){const ce=(await O.json()).data||[];let me=k.name;if(console.log(`🔍 Processing chat ${k.chat_id}:`,{chatName:k.name,isGroup:k.is_group,membersCount:ce.length,currentUserId:u?.userId,members:ce.map(Ce=>({id:Ce.user.user_id,name:Ce.user.name,username:Ce.user.username}))}),!k.is_group&&ce.length<=2){const Ce=ce.find(We=>We.user.user_id!==u?.userId);Ce&&(me=Ce.user.name||Ce.user.username,console.log(`💬 Direct chat name resolved: ${me}`))}else k.is_group?(me=k.name||`Group Chat (${ce.length} members)`,console.log(`👥 Group chat name: ${me}`)):(me=k.name||`Chat ${k.chat_id.slice(0,8)}`,console.log(`❓ Fallback chat name: ${me}`));return{...k,participants:ce,display_name:me}}else return{...k,display_name:k.name||`Chat ${k.chat_id.slice(0,8)}`}}catch(O){return console.warn(`Failed to load members for chat ${k.chat_id}:`,O),{...k,display_name:k.name||`Chat ${k.chat_id.slice(0,8)}`}}}));C(T)}catch(V){console.error("❌ Failed to load chats:",V),Y("Failed to load chats")}finally{D(!1)}})()},[s,u?.userId]);const te=S=>{try{const V=new Date(S),T=new Date().getTime()-V.getTime(),k=Math.floor(T/6e4),O=Math.floor(T/36e5),L=Math.floor(T/864e5);return k<1?"now":k<60?`${k}m`:O<24?`${O}h`:L<7?`${L}d`:V.toLocaleDateString()}catch{return""}},Z=S=>S.display_name||S.name||`Chat ${S.chat_id.slice(0,8)}`,K=S=>{F(S),c(S)};return b?l.jsxs("div",{style:{width:"100%",...g.surface,borderRight:`1px solid ${g.theme.border}`,display:"flex",flexDirection:"column",height:"100%"},children:[l.jsx("div",{style:{padding:"16px",borderBottom:`1px solid ${g.theme.border}`},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"4px"},children:[l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",...g.text},children:"Chats"}),l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:f.is_connected?"#10b981":"#6b7280"}})]})}),l.jsx("div",{style:{flex:1,padding:"12px"},children:[...Array(8)].map((S,V)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f3f4f6",borderRadius:"50%",marginRight:"12px"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{height:"16px",backgroundColor:"#f3f4f6",borderRadius:"4px",marginBottom:"8px",width:"75%"}}),l.jsx("div",{style:{height:"12px",backgroundColor:"#f3f4f6",borderRadius:"4px",width:"50%"}})]})]},V))})]}):q?l.jsxs("div",{style:{width:"100%",...g.surface,borderRight:`1px solid ${g.theme.border}`,display:"flex",flexDirection:"column",height:"100%"},children:[l.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb"},children:l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:"Chats"})}),l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#fef2f2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:l.jsx("span",{style:{color:"#dc2626",fontSize:"20px"},children:"⚠"})}),l.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:q}),l.jsx("button",{onClick:()=>window.location.reload(),style:{fontSize:"14px",backgroundColor:"#3b82f6",color:"white",fontWeight:"500",padding:"8px 12px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Try again"})]})})]}):l.jsxs("div",{style:{width:"100%",...g.surface,borderRight:`1px solid ${g.theme.border}`,display:"flex",flexDirection:"column",height:"100%"},children:[l.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"4px"},children:[l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:"Chats"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:f.is_connected?"#10b981":"#6b7280"}}),l.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:f.is_connected?"Online":"Offline"})]})]}),u&&l.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:u.name||u.username})]}),l.jsx("div",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:"text",placeholder:"Search conversations",style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"8px",fontSize:"14px",color:"#111827",outline:"none"}}),l.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px"},children:"🔍"})]})}),l.jsx("div",{style:{flex:1,overflowY:"auto"},children:w.length===0?l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"24px"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:l.jsx("span",{style:{color:"#6b7280",fontSize:"24px"},children:"💬"})}),l.jsx("h3",{style:{fontSize:"14px",fontWeight:"500",color:"#111827",marginBottom:"4px"},children:"No conversations yet"}),l.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:"Start a conversation with your contacts"})]})}):l.jsx("div",{children:w.map(S=>{const V=B===S.chat_id,oe=S.last_message?.unread_count||0,T=S.is_group;return l.jsxs("div",{onClick:()=>K(S.chat_id),style:{display:"flex",alignItems:"center",padding:"8px 12px",cursor:"pointer",backgroundColor:V?g.theme.selected:"transparent",borderBottom:`1px solid ${g.theme.border}`,minHeight:"56px",transition:"background 0.15s",gap:12},onMouseEnter:k=>{V||(k.currentTarget.style.backgroundColor=g.theme.hover)},onMouseLeave:k=>{V||(k.currentTarget.style.backgroundColor="transparent")},children:[l.jsx("div",{style:{marginRight:12,width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},children:T?l.jsx("span",{style:{fontSize:32,lineHeight:1},children:"👥"}):l.jsx(Bs,{username:Z(S),size:"small"})}),l.jsxs("div",{style:{flex:1,minWidth:0,display:"flex",flexDirection:"column",justifyContent:"center"},children:[l.jsx("div",{style:{fontSize:"15px",fontWeight:600,color:g.theme.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Z(S)||"Unnamed Chat"}),l.jsx("div",{style:{fontSize:"13px",color:g.theme.textSecondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:(S.last_message?.content||"No messages yet").replace(/ -\*$/,"").trim()})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:4,minWidth:48},children:[l.jsx("div",{style:{fontSize:"11px",color:g.theme.textSecondary,textAlign:"right"},children:S.last_message?te(S.last_message.timestamp):""}),oe>0&&!V&&l.jsx("div",{style:{fontSize:"11px",padding:6,background:"#ef4444",color:"#fff",borderRadius:"999px",minWidth:24,minHeight:24,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,boxShadow:"0 1px 4px rgba(239,68,68,0.12)",transition:"transform 0.2s",transform:oe>0?"scale(1.1)":"scale(1)"},children:oe})]})]},S.chat_id)})})})]})},Sp=({onBack:c})=>{const{user:s,token:u,logout:f}=Jt(),{isDarkMode:g,toggleTheme:w}=Er(),[C,b]=P.useState(!1),[D,q]=P.useState(!1),[Y,B]=P.useState(!1),[F,te]=P.useState(s?.name||""),[Z,K]=P.useState(s?.username||""),[S,V]=P.useState(s?.email||""),oe=async()=>{if(!(!s||!u))try{b(!0),console.log("Profile update:",{name:F,username:Z,email:S});const L={...s,name:F,username:Z,email:S};L&&(console.log("Profile updated:",L),q(!1))}catch(L){console.error("Failed to update profile:",L)}finally{b(!1)}},T=async()=>{try{b(!0),await f()}catch(L){console.error("Logout failed:",L)}finally{b(!1)}},k=L=>L.split(" ").map(ce=>ce[0]).join("").toUpperCase().slice(0,2),O=pn();return D?l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#f8fafc"},children:[l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"white",display:"flex",alignItems:"center",gap:"16px"},children:[l.jsx("button",{onClick:()=>q(!1),style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"←"}),l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:"Edit Profile"})]}),l.jsx("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:l.jsxs("div",{style:{maxWidth:"480px",margin:"0 auto",padding:"2rem 1rem",borderRadius:"16px",...O.surface,border:`1px solid ${O.theme.border}`,boxSizing:"border-box"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[l.jsx("div",{style:{width:"120px",height:"120px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"32px",margin:"0 auto 16px"},children:k(F||Z||"U")}),l.jsx("button",{style:{backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",cursor:"pointer"},children:"Change Photo"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Name"}),l.jsx("input",{type:"text",value:F,onChange:L=>te(L.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"Enter your name"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Username"}),l.jsx("input",{type:"text",value:Z,onChange:L=>K(L.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"Enter your username"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Email"}),l.jsx("input",{type:"email",value:S,onChange:L=>V(L.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"Enter your email"})]})]}),l.jsxs("div",{style:{marginTop:"32px",display:"flex",gap:"12px"},children:[l.jsx("button",{onClick:()=>q(!1),style:{flex:1,padding:"12px 24px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),l.jsx("button",{onClick:oe,disabled:C,style:{flex:1,padding:"12px 24px",border:"none",borderRadius:"8px",backgroundColor:"#3b82f6",color:"white",fontSize:"14px",fontWeight:"500",cursor:C?"default":"pointer",opacity:C?.6:1},children:C?"Saving...":"Save Changes"})]})]})})]}):l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#f8fafc"},children:[l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"white",display:"flex",alignItems:"center",gap:"16px"},children:[l.jsx("button",{onClick:c,style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"←"}),l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:"Settings"})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto"},children:[l.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderBottom:"8px solid #f3f4f6"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"24px"},children:s?k(s.name||s.username):"U"}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:"0 0 4px 0"},children:s?.name||s?.username||"Unknown User"}),l.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 8px 0"},children:s?.email||"No email"}),l.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",margin:0},children:s?.verified?"✓ Verified":"⚠ Not verified"})]})]}),l.jsx("button",{onClick:()=>q(!0),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Edit Profile"})]}),l.jsxs("div",{style:{backgroundColor:"white"},children:[l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #f3f4f6"},children:[l.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",margin:"0 0 16px 0"},children:"Account"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"🔒"}),l.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Privacy & Security"})]}),l.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"›"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"🔔"}),l.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Notifications"})]}),l.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"›"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"💾"}),l.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Storage and Data"})]}),l.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"›"})]})]})]}),l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #f3f4f6"},children:[l.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",margin:"0 0 16px 0"},children:"Appearance"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"🌙"}),l.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Dark Mode"})]}),l.jsxs("label",{style:{position:"relative",display:"inline-block",width:"44px",height:"24px"},children:[l.jsx("input",{type:"checkbox",checked:g,onChange:w,style:{opacity:0,width:0,height:0}}),l.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:g?"#3b82f6":"#d1d5db",borderRadius:"24px",transition:"0.3s"},children:l.jsx("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:g?"23px":"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"0.3s"}})})]})]})]}),l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #f3f4f6"},children:[l.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",margin:"0 0 16px 0"},children:"Security"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"🔐"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"14px",color:"#374151"},children:"Advanced Encryption"}),l.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:"Use Rust SDK encryption"})]})]}),l.jsxs("label",{style:{position:"relative",display:"inline-block",width:"44px",height:"24px"},children:[l.jsx("input",{type:"checkbox",checked:Y,onChange:L=>B(L.target.checked),style:{opacity:0,width:0,height:0}}),l.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:Y?"#3b82f6":"#d1d5db",borderRadius:"24px",transition:"0.3s"},children:l.jsx("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:Y?"23px":"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"0.3s"}})})]})]})]}),l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #f3f4f6"},children:[l.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",margin:"0 0 16px 0"},children:"Support & About"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"❓"}),l.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Help Center"})]}),l.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"›"})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 0"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l.jsx("span",{style:{fontSize:"20px"},children:"ℹ️"}),l.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"About Terracrypt Chat"})]}),l.jsx("span",{style:{fontSize:"16px",color:"#9ca3af"},children:"›"})]})]})]}),l.jsx("div",{style:{padding:"24px"},children:l.jsx("button",{onClick:T,disabled:C,style:{width:"100%",padding:"12px",border:"none",borderRadius:"8px",backgroundColor:"#dc2626",color:"white",fontSize:"14px",fontWeight:"500",cursor:C?"default":"pointer",opacity:C?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:C?l.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}):l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{fontSize:"16px"},children:"🚪"}),l.jsx("span",{children:"Logout"})]})})})]})]})]})},kp=({isOpen:c,onClose:s,requests:u,onAccept:f,onDecline:g,isLoading:w=!1})=>{const C=(b,D)=>(b||D).split(" ").map(Y=>Y[0]).join("").toUpperCase().slice(0,2);return c?l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"90%",maxWidth:"500px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[l.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:["Friend Requests (",u.length,")"]}),l.jsx("button",{onClick:s,style:{width:"32px",height:"32px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",color:"#6b7280",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"×"})]}),l.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto"},children:w?l.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[l.jsx("div",{style:{display:"inline-block",width:"32px",height:"32px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),l.jsx("p",{style:{color:"#6b7280"},children:"Loading requests..."})]}):u.length===0?l.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[l.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:l.jsx("span",{style:{fontSize:"24px"},children:"👥"})}),l.jsx("h3",{style:{fontSize:"16px",fontWeight:"500",color:"#111827",margin:"0 0 8px 0"},children:"No pending requests"}),l.jsx("p",{style:{color:"#6b7280",margin:0},children:"You're all caught up!"})]}):l.jsx("div",{style:{padding:"16px"},children:u.map(b=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb",backgroundColor:"white",marginBottom:"12px"},children:[l.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #f59e0b, #d97706)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px",marginRight:"16px"},children:C(b.sender?.name||"",b.sender?.username||"U")}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{fontSize:"16px",fontWeight:"500",color:"#111827",margin:"0 0 4px 0"},children:b.sender?.name||b.sender?.username||"Unknown"}),l.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 4px 0"},children:["@",b.sender?.username]}),l.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",margin:0},children:"Wants to be your friend"})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l.jsx("button",{onClick:()=>f(b.request_id),style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:"#10b981",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer",minWidth:"80px"},children:"Accept"}),l.jsx("button",{onClick:()=>g(b.request_id),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"white",color:"#6b7280",fontSize:"14px",fontWeight:"500",cursor:"pointer",minWidth:"80px"},children:"Decline"})]})]},b.request_id))})})]})}):null},Cp=({onBack:c,onOpenChat:s})=>{const{token:u,user:f}=Jt(),g=pn(),[w,C]=P.useState([]),[b,D]=P.useState([]),[q,Y]=P.useState(""),[B,F]=P.useState([]),[te,Z]=P.useState(!0),[K,S]=P.useState(!1),[V,oe]=P.useState(!1),[T,k]=P.useState(!1),[O,L]=P.useState(0);P.useEffect(()=>{ce()},[u]);const ce=async()=>{if(u)try{Z(!0);const I=await fetch("https://dev.v1.terracrypt.cc/api/v1/friends",{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(I.ok){const ie=await I.json();console.log("📋 Friends response:",ie),C(ie||[])}else console.error("❌ Failed to load friends:",I.status,I.statusText);const ee=await fetch("https://dev.v1.terracrypt.cc/api/v1/friends/request/pending",{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(ee.ok){const ie=await ee.json();console.log("📋 Friend requests response:",ie);const ne=ie||[];D(ne),L(ne.length)}else console.error("❌ Failed to load friend requests:",ee.status,ee.statusText)}catch(I){console.error("Failed to load friends data:",I)}finally{Z(!1)}},me=async I=>{if(!I.trim()||!u){F([]);return}try{S(!0);const ee=await fetch(`https://dev.v1.terracrypt.cc/api/v1/users/search?username=${encodeURIComponent(I)}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(ee.ok){const ie=await ee.json();console.log("🔍 Search response:",ie),F(ie||[])}else console.error("❌ Search failed:",ee.status,ee.statusText)}catch(ee){console.error("Failed to search users:",ee)}finally{S(!1)}},Ce=async I=>{if(!(!u||!f?.userId))try{console.log("📤 Sending friend request:",{receiverId:I,senderId:f.userId});const ee=await fetch("https://dev.v1.terracrypt.cc/api/v1/friends/request",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({receiver_id:I,sender_id:f.userId})});if(ee.ok)F(ie=>ie.filter(ne=>ne.user_id!==I)),console.log("✅ Friend request sent successfully");else{console.error("❌ Friend request failed:",ee.status,ee.statusText);const ie=await ee.text();console.error("Error details:",ie)}}catch(ee){console.error("❌ Failed to send friend request:",ee)}},We=async(I,ee)=>{if(u)try{const ie=ee==="accepted"?`https://dev.v1.terracrypt.cc/api/v1/friends/request/${I}/accept`:`https://dev.v1.terracrypt.cc/api/v1/friends/request/${I}/reject`;(await fetch(ie,{method:"PUT",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}})).ok&&await ce()}catch(ie){console.error("Failed to handle friend request:",ie)}},dt=async I=>{if(u)try{(await fetch(`https://dev.v1.terracrypt.cc/api/v1/friends/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}})).ok&&C(ie=>ie.filter(ne=>ne.user_id!==I))}catch(ee){console.error("Failed to delete friend:",ee)}},de=(I,ee)=>(I||ee).split(" ").map(ne=>ne[0]).join("").toUpperCase().slice(0,2),ae=B.filter(I=>I.user_id!==f?.userId&&!w.some(ee=>ee.user_id===I.user_id));return V?l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",...g.background},children:[l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"white",display:"flex",alignItems:"center",gap:"16px"},children:[l.jsx("button",{onClick:()=>oe(!1),style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"←"}),l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:"Add Friend"})]}),l.jsx("div",{style:{padding:"16px 24px",backgroundColor:"white",borderBottom:"1px solid #e5e7eb"},children:l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:"text",value:q,onChange:I=>{Y(I.target.value),me(I.target.value)},placeholder:"Search by username or email...",style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"12px",paddingBottom:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"}}),l.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6b7280",fontSize:"16px"},children:"🔍"})]})}),l.jsx("div",{style:{flex:1,overflowY:"auto",padding:"16px 24px"},children:K?l.jsxs("div",{style:{textAlign:"center",padding:"32px"},children:[l.jsx("div",{style:{display:"inline-block",width:"32px",height:"32px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),l.jsx("p",{style:{color:"#6b7280"},children:"Searching..."})]}):ae.length===0&&q?l.jsx("div",{style:{textAlign:"center",padding:"32px"},children:l.jsx("p",{style:{color:"#6b7280"},children:"No users found"})}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ae.map(I=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[l.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px",marginRight:"12px"},children:de(I.name,I.username)}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{fontSize:"14px",fontWeight:"500",color:"#111827",margin:"0 0 2px 0"},children:I.name||I.username}),l.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:["@",I.username]})]}),l.jsx("button",{onClick:()=>Ce(I.user_id),style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",fontSize:"12px",fontWeight:"500",cursor:"pointer"},children:"Add Friend"})]},I.user_id))})})]}):l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",...g.background},children:[l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l.jsx("button",{onClick:c,style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"←"}),l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:"Friends"})]}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[O>0&&l.jsx("button",{onClick:()=>k(!0),style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#f59e0b",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",fontWeight:"600",position:"relative"},title:`${O} friend requests`,children:O}),l.jsx("button",{onClick:()=>oe(!0),style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#3b82f6",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"+"})]})]}),l.jsx("div",{style:{flex:1,overflowY:"auto",backgroundColor:"white"},children:te?l.jsx("div",{style:{padding:"24px"},children:[...Array(5)].map((I,ee)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f3f4f6",borderRadius:"50%",marginRight:"12px"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{height:"16px",backgroundColor:"#f3f4f6",borderRadius:"4px",marginBottom:"4px",width:"60%"}}),l.jsx("div",{style:{height:"12px",backgroundColor:"#f3f4f6",borderRadius:"4px",width:"40%"}})]})]},ee))}):w.length===0?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"64px 24px",textAlign:"center"},children:[l.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:l.jsx("span",{style:{fontSize:"32px"},children:"👥"})}),l.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:"0 0 8px 0"},children:"No friends yet"}),l.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px"},children:"Add friends to start secure conversations"}),l.jsx("button",{onClick:()=>oe(!0),style:{padding:"12px 24px",border:"none",borderRadius:"8px",backgroundColor:"#3b82f6",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Add Your First Friend"})]}):l.jsx("div",{style:{padding:"16px 24px"},children:l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:w.map(I=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb",backgroundColor:"white"},children:[l.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px",marginRight:"12px"},children:de(I.name,I.username)}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{fontSize:"14px",fontWeight:"500",color:"#111827",margin:"0 0 2px 0"},children:I.name||I.username}),l.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:0},children:["@",I.username]})]}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{onClick:()=>s(I.user_id,I.name||I.username),style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:"#3b82f6",color:"white",fontSize:"12px",fontWeight:"500",cursor:"pointer"},children:"Message"}),l.jsx("button",{onClick:()=>dt(I.user_id),style:{padding:"8px 12px",border:"1px solid #dc2626",borderRadius:"6px",backgroundColor:"white",color:"#dc2626",fontSize:"12px",cursor:"pointer"},children:"Remove"})]})]},I.user_id))})})}),l.jsx(kp,{isOpen:T,onClose:()=>k(!1),requests:b,onAccept:I=>We(I,"accepted"),onDecline:I=>We(I,"rejected"),isLoading:te})]})},jp=({onBack:c,onGroupCreated:s})=>{const{token:u,user:f}=Jt(),[g,w]=P.useState([]),[C,b]=P.useState([]),[D,q]=P.useState(""),[Y,B]=P.useState(!0),[F,te]=P.useState(!1);P.useEffect(()=>{Z()},[u]);const Z=async()=>{if(u)try{B(!0);const k=await fetch("https://dev.v1.terracrypt.cc/api/v1/friends",{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(k.ok){const O=await k.json();w(O.data||[])}}catch(k){console.error("Failed to load friends:",k)}finally{B(!1)}},K=k=>{b(O=>O.includes(k)?O.filter(L=>L!==k):[...O,k])},S=async()=>{if(!(C.length<1||!u||!f))try{te(!0);const k=C.length>1,O=k&&D.trim()?D.trim():k?`Group with ${C.length} friends`:g.find(me=>me.friend_id===C[0])?.name||"Direct Chat",L=[{user_id:f.userId,is_admin:!0},...C.map(me=>({user_id:me,is_admin:!1}))],ce=await fetch("https://dev.v1.terracrypt.cc/api/v1/chats",{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({name:O,is_group:k,members:L})});if(ce.ok){const Ce=(await ce.json()).chat_id;console.log("✅ Group chat created:",Ce),s(Ce,O)}else console.error("Failed to create group chat:",ce.statusText)}catch(k){console.error("Failed to create group chat:",k)}finally{te(!1)}},V=(k,O)=>(k||O).split(" ").map(ce=>ce[0]).join("").toUpperCase().slice(0,2),oe=C.length>0,T=C.length>1;return l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#f8fafc"},children:[l.jsxs("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb",backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l.jsx("button",{onClick:c,style:{width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px"},children:"←"}),l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:"New Chat"})]}),l.jsx("button",{onClick:S,disabled:!oe||F,style:{padding:"8px 16px",border:"none",borderRadius:"8px",backgroundColor:oe?"#3b82f6":"#d1d5db",color:"white",fontSize:"14px",fontWeight:"500",cursor:oe&&!F?"pointer":"default",opacity:F?.6:1},children:F?"Creating...":"Create"})]}),T&&l.jsxs("div",{style:{padding:"16px 24px",backgroundColor:"white",borderBottom:"1px solid #e5e7eb"},children:[l.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Group Name (Optional)"}),l.jsx("input",{type:"text",value:D,onChange:k=>q(k.target.value),placeholder:"Enter group name...",style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"}}),D&&l.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",margin:"4px 0 0 0"},children:['Group will be named "',D,'"']})]}),C.length>0&&l.jsxs("div",{style:{padding:"16px 24px",backgroundColor:"white",borderBottom:"8px solid #f3f4f6"},children:[l.jsxs("h3",{style:{fontSize:"14px",fontWeight:"500",color:"#374151",margin:"0 0 12px 0"},children:["Selected (",C.length,")"]}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:C.map(k=>{const O=g.find(L=>L.friend_id===k);return O?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",backgroundColor:"#eff6ff",borderRadius:"16px",border:"1px solid #bfdbfe"},children:[l.jsx("div",{style:{width:"24px",height:"24px",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"10px"},children:V(O.name,O.username)}),l.jsx("span",{style:{fontSize:"12px",color:"#1e40af",fontWeight:"500"},children:O.name||O.username}),l.jsx("button",{onClick:()=>K(k),style:{width:"16px",height:"16px",borderRadius:"50%",border:"none",backgroundColor:"#ef4444",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"10px"},children:"×"})]},k):null})}),l.jsx("div",{style:{marginTop:"12px",fontSize:"12px",color:"#6b7280"},children:T?`Creating a group chat with ${C.length} friends`:"Creating a direct chat"})]}),l.jsxs("div",{style:{flex:1,overflowY:"auto",backgroundColor:"white"},children:[l.jsx("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e5e7eb"},children:l.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",margin:0},children:"Select Friends"})}),Y?l.jsx("div",{style:{padding:"24px"},children:[...Array(5)].map((k,O)=>l.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",marginBottom:"8px"},children:[l.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f3f4f6",borderRadius:"50%",marginRight:"12px"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{height:"16px",backgroundColor:"#f3f4f6",borderRadius:"4px",marginBottom:"4px",width:"60%"}}),l.jsx("div",{style:{height:"12px",backgroundColor:"#f3f4f6",borderRadius:"4px",width:"40%"}})]})]},O))}):g.length===0?l.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"64px 24px",textAlign:"center"},children:[l.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:l.jsx("span",{style:{fontSize:"32px"},children:"👥"})}),l.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:"0 0 8px 0"},children:"No friends yet"}),l.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Add friends first to create chats with them"})]}):l.jsx("div",{style:{padding:"16px 24px"},children:l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:g.map(k=>{const O=C.includes(k.friend_id);return l.jsxs("div",{onClick:()=>K(k.friend_id),style:{display:"flex",alignItems:"center",padding:"12px",borderRadius:"8px",border:`1px solid ${O?"#3b82f6":"#e5e7eb"}`,backgroundColor:O?"#eff6ff":"white",cursor:"pointer",transition:"all 0.2s"},children:[l.jsx("div",{style:{width:"48px",height:"48px",background:O?"linear-gradient(135deg, #3b82f6, #8b5cf6)":"linear-gradient(135deg, #6b7280, #4b5563)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"500",fontSize:"14px",marginRight:"12px"},children:V(k.name,k.username)}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h3",{style:{fontSize:"14px",fontWeight:"500",color:O?"#1e40af":"#111827",margin:"0 0 2px 0"},children:k.name||k.username}),l.jsxs("p",{style:{fontSize:"12px",color:O?"#3b82f6":"#6b7280",margin:0},children:["@",k.username]})]}),l.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",border:`2px solid ${O?"#3b82f6":"#d1d5db"}`,backgroundColor:O?"#3b82f6":"white",display:"flex",alignItems:"center",justifyContent:"center"},children:O&&l.jsx("span",{style:{color:"white",fontSize:"12px",fontWeight:"bold"},children:"✓"})})]},k.friend_id)})})})]}),oe&&l.jsxs("div",{style:{padding:"16px 24px",backgroundColor:"white",borderTop:"1px solid #e5e7eb"},children:[l.jsx("div",{style:{textAlign:"center",fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:T?`Ready to create group chat with ${C.length} friends`:"Ready to create direct chat"}),l.jsx("button",{onClick:S,disabled:F,style:{width:"100%",padding:"12px",border:"none",borderRadius:"8px",backgroundColor:"#3b82f6",color:"white",fontSize:"16px",fontWeight:"600",cursor:F?"default":"pointer",opacity:F?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:F?l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Creating Chat..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{style:{fontSize:"16px"},children:"💬"}),T?"Create Group Chat":"Start Direct Chat"]})})]})]})},_p=()=>l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#242424",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2rem",fontFamily:"system-ui, Avenir, Helvetica, Arial, sans-serif"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[l.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",color:"#646cff"},children:"🚀 Terracrypt Chat"}),l.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",color:"rgba(255, 255, 255, 0.87)"},children:"Secure messaging application"}),l.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"2rem",borderRadius:"8px",marginBottom:"2rem"},children:[l.jsx("h3",{style:{marginBottom:"1rem"},children:"Application Status"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,textAlign:"left"},children:[l.jsx("li",{style:{marginBottom:"0.5rem"},children:"✅ React Framework: Loaded"}),l.jsx("li",{style:{marginBottom:"0.5rem"},children:"✅ TypeScript: Working"}),l.jsx("li",{style:{marginBottom:"0.5rem"},children:"✅ Tauri Backend: Connected"}),l.jsx("li",{style:{marginBottom:"0.5rem"},children:"🔄 Authentication: Initializing..."})]})]}),l.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:"Refresh Application"})]})}),Ep=()=>{const[c,s]=P.useState(""),[u,f]=P.useState(!1),g=async()=>{try{f(!0),s("");const w=await re("test_sql_connection");s(`Success: ${w}`)}catch(w){s(`Error: ${w}`)}finally{f(!1)}};return l.jsxs("div",{style:{padding:"20px",border:"1px solid #ccc",margin:"10px"},children:[l.jsx("h3",{children:"SQL Connection Test"}),l.jsx("button",{onClick:g,disabled:u,children:u?"Testing...":"Test SQL Connection"}),c&&l.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#f0f0f0"},children:[l.jsx("strong",{children:"Result:"})," ",c]})]})},Rp=()=>{const{token:c,isLoading:s,error:u}=Jt(),f=pn(),[g,w]=P.useState("chatList"),[C,b]=P.useState(null),[D,q]=P.useState(!1);if(console.log("🎯 ChatApp render - token:",!!c,"isLoading:",s,"error:",u),s)return l.jsx("div",{style:{height:"100vh",...f.background,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{display:"inline-block",width:"32px",height:"32px",border:`2px solid ${f.theme.border}`,borderTop:`2px solid ${f.theme.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),l.jsx("h2",{style:{fontSize:"20px",fontWeight:"500",...f.text,marginBottom:"8px"},children:"Loading Terracrypt Chat"}),l.jsx("p",{style:{...f.textSecondary,marginBottom:"16px"},children:"Please wait while we initialize the application."}),l.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:f.theme.primary,color:"white",fontWeight:"500",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Skip Loading"})]})});if(u)return l.jsx("div",{style:{height:"100vh",...f.background,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"384px",margin:"0 auto",padding:"24px"},children:[l.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:"#fef2f2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:l.jsx("span",{style:{color:"#dc2626",fontSize:"24px"},children:"⚠"})}),l.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",marginBottom:"8px"},children:"Something went wrong"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"24px"},children:u}),l.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3b82f6",color:"white",fontWeight:"500",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Try again"})]})});if(!c)return D?l.jsx(vp,{onSuccess:()=>q(!1),onBackToLogin:()=>q(!1)}):l.jsx(xp,{onSuccess:()=>{},onShowRegister:()=>q(!0)});const Y=V=>{b(V),w("chat")},B=()=>{w("chatList"),b(null)},F=()=>{w("friends")},te=()=>{w("settings")},Z=()=>{w("createGroup")},K=(V,oe)=>{w("chatList")},S=(V,oe)=>{b(V),w("chat")};return g==="settings"?l.jsx(Sp,{onBack:B}):g==="friends"?l.jsx(Cp,{onBack:B,onOpenChat:K}):g==="createGroup"?l.jsx(jp,{onBack:B,onGroupCreated:S}):g==="chat"&&C?l.jsxs("div",{style:{height:"100vh",...f.background,display:"flex",flexDirection:"row"},children:[l.jsx("div",{style:{width:"280px",minWidth:"280px",display:"flex",flexDirection:"column"},children:l.jsx(ic,{onSelect:Y})}),l.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:l.jsx(wp,{chatId:C,onBack:B})})]}):l.jsxs("div",{style:{height:"100vh",...f.background,display:"flex",flexDirection:"row"},children:[l.jsxs("div",{style:{width:"280px",minWidth:"280px",...f.surface,borderRight:`1px solid ${f.theme.border}`,display:"flex",flexDirection:"column",height:"100%"},children:[l.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827",margin:0},children:"Terracrypt Chat"}),l.jsxs("div",{style:{display:"flex",gap:"8px"},children:[l.jsx("button",{onClick:Z,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",backgroundColor:"#10b981",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px"},title:"New Chat",children:"✎"}),l.jsx("button",{onClick:F,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",backgroundColor:"#3b82f6",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px"},title:"Friends",children:"👥"}),l.jsx("button",{onClick:te,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",backgroundColor:"#6b7280",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px"},title:"Settings",children:"⚙️"})]})]}),l.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:l.jsx(ic,{onSelect:Y})})]}),l.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8fafc"},children:l.jsxs("div",{style:{textAlign:"center",maxWidth:"400px",margin:"0 auto",padding:"32px"},children:[l.jsx("div",{style:{width:"120px",height:"120px",backgroundColor:"#dbeafe",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 32px"},children:l.jsx("span",{style:{color:"#3b82f6",fontSize:"48px"},children:"💬"})}),l.jsx("h3",{style:{fontSize:"24px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Welcome to Terracrypt Chat"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"32px",lineHeight:"1.6"},children:"Start secure, encrypted conversations with your friends. Select a chat from the sidebar or create a new one to get started."}),l.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[l.jsxs("button",{onClick:Z,style:{padding:"12px 24px",border:"none",borderRadius:"8px",backgroundColor:"#3b82f6",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:"💬"}),"New Chat"]}),l.jsxs("button",{onClick:F,style:{padding:"12px 24px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[l.jsx("span",{children:"👥"}),"Find Friends"]})]}),l.jsx(Ep,{})]})})})]})},zp=()=>{console.log("🎨 App component rendering");try{return l.jsx(yp,{children:l.jsx(mp,{children:l.jsx(Rp,{})})})}catch(c){return console.error("❌ App failed to render:",c),l.jsx(_p,{})}};class Tp extends P.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,u){console.error("ErrorBoundary caught an error:",s,u)}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ff6b6b",backgroundColor:"#2d2d2d",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[l.jsx("h1",{children:"Something went wrong"}),l.jsx("p",{children:"An error occurred while loading the application."}),l.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"1rem"},children:"Reload App"}),this.state.error&&l.jsxs("details",{style:{marginTop:"1rem",textAlign:"left"},children:[l.jsx("summary",{children:"Error Details"}),l.jsx("pre",{style:{backgroundColor:"#1a1a1a",padding:"1rem",borderRadius:"4px",overflow:"auto",maxWidth:"100%"},children:this.state.error.toString()})]})]}):this.props.children}}console.log("🚀 Application starting...");const fc=document.getElementById("root");if(!fc)throw new Error("Root element not found");xf.createRoot(fc).render(l.jsx(P.StrictMode,{children:l.jsx(Tp,{children:l.jsx(zp,{})})}));console.log("✅ React app rendered");
